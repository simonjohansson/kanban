var xs=Object.defineProperty;var ci=e=>{throw TypeError(e)};var Is=(e,t,r)=>t in e?xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var he=(e,t,r)=>Is(e,typeof t!="symbol"?t+"":t,r),Rn=(e,t,r)=>t.has(e)||ci("Cannot "+r);var l=(e,t,r)=>(Rn(e,t,"read from private field"),r?r.call(e):t.get(e)),A=(e,t,r)=>t.has(e)?ci("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),R=(e,t,r,n)=>(Rn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),re=(e,t,r)=>(Rn(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const An=!1;var $n=Array.isArray,Ms=Array.prototype.indexOf,lr=Array.prototype.includes,on=Array.from,Os=Object.defineProperty,Zt=Object.getOwnPropertyDescriptor,xi=Object.getOwnPropertyDescriptors,ks=Object.prototype,qs=Array.prototype,Yn=Object.getPrototypeOf,di=Object.isExtensible;const Fs=()=>{};function Ls(e){return e()}function Nn(e){for(var t=0;t<e.length;t++)e[t]()}function Ii(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}const le=2,Pr=4,xr=8,Mi=1<<24,vt=16,$e=32,$t=64,Dn=128,qe=512,Z=1024,ue=2048,Le=4096,Ce=8192,ct=16384,Vt=32768,ur=65536,vi=1<<17,Oi=1<<18,dr=1<<19,ki=1<<20,ft=1<<25,Wt=65536,Pn=1<<21,Kn=1<<22,St=1<<23,Ut=Symbol("$state"),Bs=Symbol("legacy props"),Us=Symbol(""),Pt=new class extends Error{constructor(){super(...arguments);he(this,"name","StaleReactionError");he(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Ni;const Hs=!!((Ni=globalThis.document)!=null&&Ni.contentType)&&globalThis.document.contentType.includes("xml");function qi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Gs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Vs(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Ws(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function zs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function $s(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ys(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ks(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Js(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const eo=1,to=2,Fi=4,ro=8,no=16,io=2,so=4,oo=8,ao=1,lo=2,se=Symbol(),Li="http://www.w3.org/1999/xhtml";function uo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Bi(e){return e===this.v}function fo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ui(e){return!fo(e,this.v)}let vr=!1,co=!1;function vo(){vr=!0}let G=null;function fr(e){G=e}function Jn(e,t=!1,r){G={p:G,i:!1,c:null,e:null,s:e,x:null,l:vr&&!t?{s:null,u:null,$:[]}:null}}function Xn(e){var t=G,r=t.e;if(r!==null){t.e=null;for(var n of r)as(n)}return t.i=!0,G=t.p,{}}function Ir(){return!vr||G!==null&&G.l===null}let xt=[];function Hi(){var e=xt;xt=[],Nn(e)}function dt(e){if(xt.length===0&&!Tr){var t=xt;queueMicrotask(()=>{t===xt&&Hi()})}xt.push(e)}function ho(){for(;xt.length>0;)Hi()}function Gi(e){var t=x;if(t===null)return N.f|=St,e;if((t.f&Vt)===0&&(t.f&Pr)===0)throw e;Tt(e,t)}function Tt(e,t){for(;t!==null;){if((t.f&Dn)!==0){if((t.f&Vt)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const po=-7169;function K(e,t){e.f=e.f&po|t}function Qn(e){(e.f&qe)!==0||e.deps===null?K(e,Z):K(e,Le)}function Vi(e){if(e!==null)for(const t of e)(t.f&le)===0||(t.f&Wt)===0||(t.f^=Wt,Vi(t.deps))}function Wi(e,t,r){(e.f&ue)!==0?t.add(e):(e.f&Le)!==0&&r.add(e),Vi(e.deps),K(e,Z)}const $r=new Set;let D=null,ae=null,ge=[],an=null,xn=!1,Tr=!1;var er,tr,Ot,rr,Cr,Ar,kt,at,nr,Ae,In,Mn,On,zi;const li=class li{constructor(){A(this,Ae);he(this,"current",new Map);he(this,"previous",new Map);A(this,er,new Set);A(this,tr,new Set);A(this,Ot,0);A(this,rr,0);A(this,Cr,null);A(this,Ar,new Set);A(this,kt,new Set);A(this,at,new Map);he(this,"is_fork",!1);A(this,nr,!1)}skip_effect(t){l(this,at).has(t)||l(this,at).set(t,{d:[],m:[]})}unskip_effect(t){var r=l(this,at).get(t);if(r){l(this,at).delete(t);for(var n of r.d)K(n,ue),We(n);for(n of r.m)K(n,Le),We(n)}}process(t){var i;ge=[],this.apply();var r=[],n=[];for(const s of t)re(this,Ae,Mn).call(this,s,r,n);if(re(this,Ae,In).call(this)){re(this,Ae,On).call(this,n),re(this,Ae,On).call(this,r);for(const[s,o]of l(this,at))Ji(s,o)}else{for(const s of l(this,er))s();l(this,er).clear(),l(this,Ot)===0&&re(this,Ae,zi).call(this),D=null,hi(n),hi(r),(i=l(this,Cr))==null||i.resolve()}ae=null}capture(t,r){r!==se&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&St)===0&&(this.current.set(t,t.v),ae==null||ae.set(t,t.v))}activate(){D=this,this.apply()}deactivate(){D===this&&(D=null,ae=null)}flush(){if(this.activate(),ge.length>0){if($i(),D!==null&&D!==this)return}else l(this,Ot)===0&&this.process([]);this.deactivate()}discard(){for(const t of l(this,tr))t(this);l(this,tr).clear()}increment(t){R(this,Ot,l(this,Ot)+1),t&&R(this,rr,l(this,rr)+1)}decrement(t){R(this,Ot,l(this,Ot)-1),t&&R(this,rr,l(this,rr)-1),!l(this,nr)&&(R(this,nr,!0),dt(()=>{R(this,nr,!1),re(this,Ae,In).call(this)?ge.length>0&&this.flush():this.revive()}))}revive(){for(const t of l(this,Ar))l(this,kt).delete(t),K(t,ue),We(t);for(const t of l(this,kt))K(t,Le),We(t);this.flush()}oncommit(t){l(this,er).add(t)}ondiscard(t){l(this,tr).add(t)}settled(){return(l(this,Cr)??R(this,Cr,Ii())).promise}static ensure(){if(D===null){const t=D=new li;$r.add(D),Tr||dt(()=>{D===t&&t.flush()})}return D}apply(){}};er=new WeakMap,tr=new WeakMap,Ot=new WeakMap,rr=new WeakMap,Cr=new WeakMap,Ar=new WeakMap,kt=new WeakMap,at=new WeakMap,nr=new WeakMap,Ae=new WeakSet,In=function(){return this.is_fork||l(this,rr)>0},Mn=function(t,r,n){t.f^=Z;for(var i=t.first;i!==null;){var s=i.f,o=(s&($e|$t))!==0,u=o&&(s&Z)!==0,a=u||(s&Ce)!==0||l(this,at).has(i);if(!a&&i.fn!==null){o?i.f^=Z:(s&Pr)!==0?r.push(i):hr(i)&&((s&vt)!==0&&l(this,kt).add(i),zt(i));var f=i.first;if(f!==null){i=f;continue}}for(;i!==null;){var h=i.next;if(h!==null){i=h;break}i=i.parent}}},On=function(t){for(var r=0;r<t.length;r+=1)Wi(t[r],l(this,Ar),l(this,kt))},zi=function(){var i;if($r.size>1){this.previous.clear();var t=ae,r=!0;for(const s of $r){if(s===this){r=!1;continue}const o=[];for(const[a,f]of this.current){if(s.current.has(a))if(r&&f!==s.current.get(a))s.current.set(a,f);else continue;o.push(a)}if(o.length===0)continue;const u=[...s.current.keys()].filter(a=>!this.current.has(a));if(u.length>0){var n=ge;ge=[];const a=new Set,f=new Map;for(const h of o)Yi(h,u,a,f);if(ge.length>0){D=s,s.apply();for(const h of ge)re(i=s,Ae,Mn).call(i,h,[],[]);s.deactivate()}ge=n}}D=null,ae=t}$r.delete(this)};let jt=li;function _o(e){var t=Tr;Tr=!0;try{for(var r;;){if(ho(),ge.length===0&&(D==null||D.flush(),ge.length===0))return an=null,r;$i()}}finally{Tr=t}}function $i(){xn=!0;var e=null;try{for(var t=0;ge.length>0;){var r=jt.ensure();if(t++>1e3){var n,i;mo()}r.process(ge),Ct.clear()}}finally{ge=[],xn=!1,an=null}}function mo(){try{Ys()}catch(e){Tt(e,an)}}let Ue=null;function hi(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&(ct|Ce))===0&&hr(n)&&(Ue=new Set,zt(n),n.deps===null&&n.first===null&&n.nodes===null&&n.teardown===null&&n.ac===null&&fs(n),(Ue==null?void 0:Ue.size)>0)){Ct.clear();for(const i of Ue){if((i.f&(ct|Ce))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)Ue.has(o)&&(Ue.delete(o),s.push(o)),o=o.parent;for(let u=s.length-1;u>=0;u--){const a=s[u];(a.f&(ct|Ce))===0&&zt(a)}}Ue.clear()}}Ue=null}}function Yi(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&le)!==0?Yi(i,t,r,n):(s&(Kn|vt))!==0&&(s&ue)===0&&Ki(i,t,n)&&(K(i,ue),We(i))}}function Ki(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const i of e.deps){if(lr.call(t,i))return!0;if((i.f&le)!==0&&Ki(i,t,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function We(e){var t=an=e,r=t.b;if(r!=null&&r.is_pending&&(e.f&(Pr|xr|Mi))!==0&&(e.f&Vt)===0){r.defer_effect(e);return}for(;t.parent!==null;){t=t.parent;var n=t.f;if(xn&&t===x&&(n&vt)!==0&&(n&Oi)===0&&(n&Vt)!==0)return;if((n&($t|$e))!==0){if((n&Z)===0)return;t.f^=Z}}ge.push(t)}function Ji(e,t){if(!((e.f&$e)!==0&&(e.f&Z)!==0)){(e.f&ue)!==0?t.d.push(e):(e.f&Le)!==0&&t.m.push(e),K(e,Z);for(var r=e.first;r!==null;)Ji(r,t),r=r.next}}function go(e){let t=0,r=Nt(0),n;return()=>{ti()&&(c(r),fn(()=>(t===0&&(n=P(()=>e(()=>Sr(r)))),t+=1,()=>{dt(()=>{t-=1,t===0&&(n==null||n(),n=void 0,Sr(r))})})))}}var wo=ur|dr;function yo(e,t,r,n){new bo(e,t,r,n)}var Oe,zn,Xe,qt,me,Qe,Se,He,lt,Ft,bt,ir,sr,or,ut,nn,ee,Eo,Ro,To,kn,Zr,en,qn;class bo{constructor(t,r,n,i){A(this,ee);he(this,"parent");he(this,"is_pending",!1);he(this,"transform_error");A(this,Oe);A(this,zn,null);A(this,Xe);A(this,qt);A(this,me);A(this,Qe,null);A(this,Se,null);A(this,He,null);A(this,lt,null);A(this,Ft,0);A(this,bt,0);A(this,ir,!1);A(this,sr,new Set);A(this,or,new Set);A(this,ut,null);A(this,nn,go(()=>(R(this,ut,Nt(l(this,Ft))),()=>{R(this,ut,null)})));var s;R(this,Oe,t),R(this,Xe,r),R(this,qt,o=>{var u=x;u.b=this,u.f|=Dn,n(o)}),this.parent=x.b,this.transform_error=i??((s=this.parent)==null?void 0:s.transform_error)??(o=>o),R(this,me,ri(()=>{re(this,ee,kn).call(this)},wo))}defer_effect(t){Wi(t,l(this,sr),l(this,or))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!l(this,Xe).pending}update_pending_count(t){re(this,ee,qn).call(this,t),R(this,Ft,l(this,Ft)+t),!(!l(this,ut)||l(this,ir))&&(R(this,ir,!0),dt(()=>{R(this,ir,!1),l(this,ut)&&cr(l(this,ut),l(this,Ft))}))}get_effect_pending(){return l(this,nn).call(this),c(l(this,ut))}error(t){var r=l(this,Xe).onerror;let n=l(this,Xe).failed;if(!r&&!n)throw t;l(this,Qe)&&(ye(l(this,Qe)),R(this,Qe,null)),l(this,Se)&&(ye(l(this,Se)),R(this,Se,null)),l(this,He)&&(ye(l(this,He)),R(this,He,null));var i=!1,s=!1;const o=()=>{if(i){uo();return}i=!0,s&&Zs(),l(this,He)!==null&&Ht(l(this,He),()=>{R(this,He,null)}),re(this,ee,en).call(this,()=>{jt.ensure(),re(this,ee,kn).call(this)})},u=a=>{try{s=!0,r==null||r(a,o),s=!1}catch(f){Tt(f,l(this,me)&&l(this,me).parent)}n&&R(this,He,re(this,ee,en).call(this,()=>{jt.ensure();try{return ke(()=>{var f=x;f.b=this,f.f|=Dn,n(l(this,Oe),()=>a,()=>o)})}catch(f){return Tt(f,l(this,me).parent),null}}))};dt(()=>{var a;try{a=this.transform_error(t)}catch(f){Tt(f,l(this,me)&&l(this,me).parent);return}a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(u,f=>Tt(f,l(this,me)&&l(this,me).parent)):u(a)})}}Oe=new WeakMap,zn=new WeakMap,Xe=new WeakMap,qt=new WeakMap,me=new WeakMap,Qe=new WeakMap,Se=new WeakMap,He=new WeakMap,lt=new WeakMap,Ft=new WeakMap,bt=new WeakMap,ir=new WeakMap,sr=new WeakMap,or=new WeakMap,ut=new WeakMap,nn=new WeakMap,ee=new WeakSet,Eo=function(){try{R(this,Qe,ke(()=>l(this,qt).call(this,l(this,Oe))))}catch(t){this.error(t)}},Ro=function(t){const r=l(this,Xe).failed;r&&R(this,He,ke(()=>{r(l(this,Oe),()=>t,()=>()=>{})}))},To=function(){const t=l(this,Xe).pending;t&&(this.is_pending=!0,R(this,Se,ke(()=>t(l(this,Oe)))),dt(()=>{var r=R(this,lt,document.createDocumentFragment()),n=At();r.append(n),R(this,Qe,re(this,ee,en).call(this,()=>(jt.ensure(),ke(()=>l(this,qt).call(this,n))))),l(this,bt)===0&&(l(this,Oe).before(r),R(this,lt,null),Ht(l(this,Se),()=>{R(this,Se,null)}),re(this,ee,Zr).call(this))}))},kn=function(){try{if(this.is_pending=this.has_pending_snippet(),R(this,bt,0),R(this,Ft,0),R(this,Qe,ke(()=>{l(this,qt).call(this,l(this,Oe))})),l(this,bt)>0){var t=R(this,lt,document.createDocumentFragment());vs(l(this,Qe),t);const r=l(this,Xe).pending;R(this,Se,ke(()=>r(l(this,Oe))))}else re(this,ee,Zr).call(this)}catch(r){this.error(r)}},Zr=function(){this.is_pending=!1;for(const t of l(this,sr))K(t,ue),We(t);for(const t of l(this,or))K(t,Le),We(t);l(this,sr).clear(),l(this,or).clear()},en=function(t){var r=x,n=N,i=G;rt(l(this,me)),Be(l(this,me)),fr(l(this,me).ctx);try{return t()}catch(s){return Gi(s),null}finally{rt(r),Be(n),fr(i)}},qn=function(t){var r;if(!this.has_pending_snippet()){this.parent&&re(r=this.parent,ee,qn).call(r,t);return}R(this,bt,l(this,bt)+t),l(this,bt)===0&&(re(this,ee,Zr).call(this),l(this,Se)&&Ht(l(this,Se),()=>{R(this,Se,null)}),l(this,lt)&&(l(this,Oe).before(l(this,lt)),R(this,lt,null)))};function So(e,t,r,n){const i=Ir()?ln:un;var s=e.filter(p=>!p.settled);if(r.length===0&&s.length===0){n(t.map(i));return}var o=x,u=jo(),a=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(p=>p.promise)):null;function f(p){u();try{n(p)}catch(_){(o.f&ct)===0&&Tt(_,o)}Fn()}if(r.length===0){a.then(()=>f(t.map(i)));return}function h(){u(),Promise.all(r.map(p=>Ao(p))).then(p=>f([...t.map(i),...p])).catch(p=>Tt(p,o))}a?a.then(h):h()}function jo(){var e=x,t=N,r=G,n=D;return function(s=!0){rt(e),Be(t),fr(r),s&&(n==null||n.activate())}}function Fn(e=!0){rt(null),Be(null),fr(null),e&&(D==null||D.deactivate())}function Co(){var e=x.b,t=D,r=e.is_rendered();return e.update_pending_count(1),t.increment(r),()=>{e.update_pending_count(-1),t.decrement(r)}}function ln(e){var t=le|ue,r=N!==null&&(N.f&le)!==0?N:null;return x!==null&&(x.f|=dr),{ctx:G,deps:null,effects:null,equals:Bi,f:t,fn:e,reactions:null,rv:0,v:se,wv:0,parent:r??x,ac:null}}function Ao(e,t,r){x===null&&Gs();var i=void 0,s=Nt(se),o=!N,u=new Map;return Bo(()=>{var _;var a=Ii();i=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).finally(Fn)}catch(g){a.reject(g),Fn()}var f=D;if(o){var h=Co();(_=u.get(f))==null||_.reject(Pt),u.delete(f),u.set(f,a)}const p=(g,w=void 0)=>{if(f.activate(),w)w!==Pt&&(s.f|=St,cr(s,w));else{(s.f&St)!==0&&(s.f^=St),cr(s,g);for(const[E,v]of u){if(u.delete(E),E===f)break;v.reject(Pt)}}h&&h()};a.promise.then(p,g=>p(null,g||"unknown"))}),os(()=>{for(const a of u.values())a.reject(Pt)}),new Promise(a=>{function f(h){function p(){h===i?a(s):f(i)}h.then(p,p)}f(i)})}function pi(e){const t=ln(e);return hs(t),t}function un(e){const t=ln(e);return t.equals=Ui,t}function No(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ye(t[r])}}function Do(e){for(var t=e.parent;t!==null;){if((t.f&le)===0)return(t.f&ct)===0?t:null;t=t.parent}return null}function Zn(e){var t,r=x;rt(Do(e));try{e.f&=~Wt,No(e),t=gs(e)}finally{rt(r)}return t}function Xi(e){var t=Zn(e);if(!e.equals(t)&&(e.wv=_s(),(!(D!=null&&D.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){K(e,Z);return}Dt||(ae!==null?(ti()||D!=null&&D.is_fork)&&ae.set(e,t):Qn(e))}function Po(e){var t,r;if(e.effects!==null)for(const n of e.effects)(n.teardown||n.ac)&&((t=n.teardown)==null||t.call(n),(r=n.ac)==null||r.abort(Pt),n.teardown=Fs,n.ac=null,jr(n,0),ni(n))}function Qi(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&zt(t)}let Ln=new Set;const Ct=new Map;let Zi=!1;function Nt(e,t){var r={f:0,v:e,reactions:null,equals:Bi,rv:0,wv:0};return r}function wt(e,t){const r=Nt(e);return hs(r),r}function X(e,t=!1,r=!0){var i;const n=Nt(e);return t||(n.equals=Ui),vr&&r&&G!==null&&G.l!==null&&((i=G.l).s??(i.s=[])).push(n),n}function b(e,t,r=!1){N!==null&&(!ze||(N.f&vi)!==0)&&Ir()&&(N.f&(le|vt|Kn|vi))!==0&&(Fe===null||!lr.call(Fe,e))&&Qs();let n=r?Qt(t):t;return cr(e,n)}function cr(e,t){if(!e.equals(t)){var r=e.v;Dt?Ct.set(e,t):Ct.set(e,r),e.v=t;var n=jt.ensure();if(n.capture(e,r),(e.f&le)!==0){const i=e;(e.f&ue)!==0&&Zn(i),Qn(i)}e.wv=_s(),es(e,ue),Ir()&&x!==null&&(x.f&Z)!==0&&(x.f&($e|$t))===0&&(Ie===null?Go([e]):Ie.push(e)),!n.is_fork&&Ln.size>0&&!Zi&&xo()}return t}function xo(){Zi=!1;for(const e of Ln)(e.f&Z)!==0&&K(e,Le),hr(e)&&zt(e);Ln.clear()}function Sr(e){b(e,e.v+1)}function es(e,t){var r=e.reactions;if(r!==null)for(var n=Ir(),i=r.length,s=0;s<i;s++){var o=r[s],u=o.f;if(!(!n&&o===x)){var a=(u&ue)===0;if(a&&K(o,t),(u&le)!==0){var f=o;ae==null||ae.delete(f),(u&Wt)===0&&(u&qe&&(o.f|=Wt),es(f,Le))}else a&&((u&vt)!==0&&Ue!==null&&Ue.add(o),We(o))}}}function Qt(e){if(typeof e!="object"||e===null||Ut in e)return e;const t=Yn(e);if(t!==ks&&t!==qs)return e;var r=new Map,n=$n(e),i=wt(0),s=Gt,o=u=>{if(Gt===s)return u();var a=N,f=Gt;Be(null),gi(s);var h=u();return Be(a),gi(f),h};return n&&r.set("length",wt(e.length)),new Proxy(e,{defineProperty(u,a,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Js();var h=r.get(a);return h===void 0?o(()=>{var p=wt(f.value);return r.set(a,p),p}):b(h,f.value,!0),!0},deleteProperty(u,a){var f=r.get(a);if(f===void 0){if(a in u){const h=o(()=>wt(se));r.set(a,h),Sr(i)}}else b(f,se),Sr(i);return!0},get(u,a,f){var g;if(a===Ut)return e;var h=r.get(a),p=a in u;if(h===void 0&&(!p||(g=Zt(u,a))!=null&&g.writable)&&(h=o(()=>{var w=Qt(p?u[a]:se),E=wt(w);return E}),r.set(a,h)),h!==void 0){var _=c(h);return _===se?void 0:_}return Reflect.get(u,a,f)},getOwnPropertyDescriptor(u,a){var f=Reflect.getOwnPropertyDescriptor(u,a);if(f&&"value"in f){var h=r.get(a);h&&(f.value=c(h))}else if(f===void 0){var p=r.get(a),_=p==null?void 0:p.v;if(p!==void 0&&_!==se)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return f},has(u,a){var _;if(a===Ut)return!0;var f=r.get(a),h=f!==void 0&&f.v!==se||Reflect.has(u,a);if(f!==void 0||x!==null&&(!h||(_=Zt(u,a))!=null&&_.writable)){f===void 0&&(f=o(()=>{var g=h?Qt(u[a]):se,w=wt(g);return w}),r.set(a,f));var p=c(f);if(p===se)return!1}return h},set(u,a,f,h){var S;var p=r.get(a),_=a in u;if(n&&a==="length")for(var g=f;g<p.v;g+=1){var w=r.get(g+"");w!==void 0?b(w,se):g in u&&(w=o(()=>wt(se)),r.set(g+"",w))}if(p===void 0)(!_||(S=Zt(u,a))!=null&&S.writable)&&(p=o(()=>wt(void 0)),b(p,Qt(f)),r.set(a,p));else{_=p.v!==se;var E=o(()=>Qt(f));b(p,E)}var v=Reflect.getOwnPropertyDescriptor(u,a);if(v!=null&&v.set&&v.set.call(h,f),!_){if(n&&typeof a=="string"){var y=r.get("length"),I=Number(a);Number.isInteger(I)&&I>=y.v&&b(y,I+1)}Sr(i)}return!0},ownKeys(u){c(i);var a=Reflect.ownKeys(u).filter(p=>{var _=r.get(p);return _===void 0||_.v!==se});for(var[f,h]of r)h.v!==se&&!(f in u)&&a.push(f);return a},setPrototypeOf(){Xs()}})}var _i,ts,rs,ns;function Io(){if(_i===void 0){_i=window,ts=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;rs=Zt(t,"firstChild").get,ns=Zt(t,"nextSibling").get,di(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),di(r)&&(r.__t=void 0)}}function At(e=""){return document.createTextNode(e)}function rn(e){return rs.call(e)}function Mr(e){return ns.call(e)}function T(e,t){return rn(e)}function br(e,t=!1){{var r=rn(e);return r instanceof Comment&&r.data===""?Mr(r):r}}function O(e,t=1,r=!1){let n=e;for(;t--;)n=Mr(n);return n}function Mo(e){e.textContent=""}function is(){return!1}function Oo(e,t,r){return document.createElementNS(Li,e,void 0)}function ei(e){var t=N,r=x;Be(null),rt(null);try{return e()}finally{Be(t),rt(r)}}function ss(e){x===null&&(N===null&&$s(),zs()),Dt&&Ws()}function ko(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function nt(e,t,r){var n=x;n!==null&&(n.f&Ce)!==0&&(e|=Ce);var i={ctx:G,deps:null,nodes:null,f:e|ue|qe,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{zt(i)}catch(u){throw ye(i),u}else t!==null&&We(i);var s=i;if(r&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&dr)===0&&(s=s.first,(e&vt)!==0&&(e&ur)!==0&&s!==null&&(s.f|=ur)),s!==null&&(s.parent=n,n!==null&&ko(s,n),N!==null&&(N.f&le)!==0&&(e&$t)===0)){var o=N;(o.effects??(o.effects=[])).push(s)}return i}function ti(){return N!==null&&!ze}function os(e){const t=nt(xr,null,!1);return K(t,Z),t.teardown=e,t}function Bn(e){ss();var t=x.f,r=!N&&(t&$e)!==0&&(t&Vt)===0;if(r){var n=G;(n.e??(n.e=[])).push(e)}else return as(e)}function as(e){return nt(Pr|ki,e,!1)}function qo(e){return ss(),nt(xr|ki,e,!0)}function Fo(e){jt.ensure();const t=nt($t|dr,e,!0);return(r={})=>new Promise(n=>{r.outro?Ht(t,()=>{ye(t),n(void 0)}):(ye(t),n(void 0))})}function Lo(e){return nt(Pr,e,!1)}function Un(e,t){var r=G,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=fn(()=>{e(),!n.ran&&(n.ran=!0,P(t))})}function ls(){var e=G;fn(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&Z)!==0&&r.deps!==null&&K(r,Le),hr(r)&&zt(r),t.ran=!1}})}function Bo(e){return nt(Kn|dr,e,!0)}function fn(e,t=0){return nt(xr|t,e,!0)}function oe(e,t=[],r=[],n=[]){So(n,t,r,i=>{nt(xr,()=>e(...i.map(c)),!0)})}function ri(e,t=0){var r=nt(vt|t,e,!0);return r}function ke(e){return nt($e|dr,e,!0)}function us(e){var t=e.teardown;if(t!==null){const r=Dt,n=N;mi(!0),Be(null);try{t.call(null)}finally{mi(r),Be(n)}}}function ni(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&ei(()=>{i.abort(Pt)});var n=r.next;(r.f&$t)!==0?r.parent=null:ye(r,t),r=n}}function Uo(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&$e)===0&&ye(t),t=r}}function ye(e,t=!0){var r=!1;(t||(e.f&Oi)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ho(e.nodes.start,e.nodes.end),r=!0),ni(e,t&&!r),jr(e,0),K(e,ct);var n=e.nodes&&e.nodes.t;if(n!==null)for(const s of n)s.stop();us(e);var i=e.parent;i!==null&&i.first!==null&&fs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ho(e,t){for(;e!==null;){var r=e===t?null:Mr(e);e.remove(),e=r}}function fs(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Ht(e,t,r=!0){var n=[];cs(e,n,!0);var i=()=>{r&&ye(e),t&&t()},s=n.length;if(s>0){var o=()=>--s||i();for(var u of n)u.out(o)}else i()}function cs(e,t,r){if((e.f&Ce)===0){e.f^=Ce;var n=e.nodes&&e.nodes.t;if(n!==null)for(const u of n)(u.is_global||r)&&t.push(u);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&ur)!==0||(i.f&$e)!==0&&(e.f&vt)!==0;cs(i,t,o?r:!1),i=s}}}function ii(e){ds(e,!0)}function ds(e,t){if((e.f&Ce)!==0){e.f^=Ce,(e.f&Z)===0&&(K(e,ue),We(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&ur)!==0||(r.f&$e)!==0;ds(r,i?t:!1),r=n}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function vs(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var i=r===n?null:Mr(r);t.append(r),r=i}}let tn=!1,Dt=!1;function mi(e){Dt=e}let N=null,ze=!1;function Be(e){N=e}let x=null;function rt(e){x=e}let Fe=null;function hs(e){N!==null&&(Fe===null?Fe=[e]:Fe.push(e))}let we=null,Te=0,Ie=null;function Go(e){Ie=e}let ps=1,It=0,Gt=It;function gi(e){Gt=e}function _s(){return++ps}function hr(e){var t=e.f;if((t&ue)!==0)return!0;if(t&le&&(e.f&=~Wt),(t&Le)!==0){for(var r=e.deps,n=r.length,i=0;i<n;i++){var s=r[i];if(hr(s)&&Xi(s),s.wv>e.wv)return!0}(t&qe)!==0&&ae===null&&K(e,Z)}return!1}function ms(e,t,r=!0){var n=e.reactions;if(n!==null&&!(Fe!==null&&lr.call(Fe,e)))for(var i=0;i<n.length;i++){var s=n[i];(s.f&le)!==0?ms(s,t,!1):t===s&&(r?K(s,ue):(s.f&Z)!==0&&K(s,Le),We(s))}}function gs(e){var E;var t=we,r=Te,n=Ie,i=N,s=Fe,o=G,u=ze,a=Gt,f=e.f;we=null,Te=0,Ie=null,N=(f&($e|$t))===0?e:null,Fe=null,fr(e.ctx),ze=!1,Gt=++It,e.ac!==null&&(ei(()=>{e.ac.abort(Pt)}),e.ac=null);try{e.f|=Pn;var h=e.fn,p=h();e.f|=Vt;var _=e.deps,g=D==null?void 0:D.is_fork;if(we!==null){var w;if(g||jr(e,Te),_!==null&&Te>0)for(_.length=Te+we.length,w=0;w<we.length;w++)_[Te+w]=we[w];else e.deps=_=we;if(ti()&&(e.f&qe)!==0)for(w=Te;w<_.length;w++)((E=_[w]).reactions??(E.reactions=[])).push(e)}else!g&&_!==null&&Te<_.length&&(jr(e,Te),_.length=Te);if(Ir()&&Ie!==null&&!ze&&_!==null&&(e.f&(le|Le|ue))===0)for(w=0;w<Ie.length;w++)ms(Ie[w],e);if(i!==null&&i!==e){if(It++,i.deps!==null)for(let v=0;v<r;v+=1)i.deps[v].rv=It;if(t!==null)for(const v of t)v.rv=It;Ie!==null&&(n===null?n=Ie:n.push(...Ie))}return(e.f&St)!==0&&(e.f^=St),p}catch(v){return Gi(v)}finally{e.f^=Pn,we=t,Te=r,Ie=n,N=i,Fe=s,fr(o),ze=u,Gt=a}}function Vo(e,t){let r=t.reactions;if(r!==null){var n=Ms.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}if(r===null&&(t.f&le)!==0&&(we===null||!lr.call(we,t))){var s=t;(s.f&qe)!==0&&(s.f^=qe,s.f&=~Wt),Qn(s),Po(s),jr(s,0)}}function jr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Vo(e,r[n])}function zt(e){var t=e.f;if((t&ct)===0){K(e,Z);var r=x,n=tn;x=e,tn=!0;try{(t&(vt|Mi))!==0?Uo(e):ni(e),us(e);var i=gs(e);e.teardown=typeof i=="function"?i:null,e.wv=ps;var s;An&&co&&(e.f&ue)!==0&&e.deps}finally{tn=n,x=r}}}async function Wo(){await Promise.resolve(),_o()}function c(e){var t=e.f,r=(t&le)!==0;if(N!==null&&!ze){var n=x!==null&&(x.f&ct)!==0;if(!n&&(Fe===null||!lr.call(Fe,e))){var i=N.deps;if((N.f&Pn)!==0)e.rv<It&&(e.rv=It,we===null&&i!==null&&i[Te]===e?Te++:we===null?we=[e]:we.push(e));else{(N.deps??(N.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[N]:lr.call(s,N)||s.push(N)}}}if(Dt&&Ct.has(e))return Ct.get(e);if(r){var o=e;if(Dt){var u=o.v;return((o.f&Z)===0&&o.reactions!==null||ys(o))&&(u=Zn(o)),Ct.set(o,u),u}var a=(o.f&qe)===0&&!ze&&N!==null&&(tn||(N.f&qe)!==0),f=(o.f&Vt)===0;hr(o)&&(a&&(o.f|=qe),Xi(o)),a&&!f&&(Qi(o),ws(o))}if(ae!=null&&ae.has(e))return ae.get(e);if((e.f&St)!==0)throw e.v;return e.v}function ws(e){if(e.f|=qe,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&le)!==0&&(t.f&qe)===0&&(Qi(t),ws(t))}function ys(e){if(e.v===se)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ct.has(t)||(t.f&le)!==0&&ys(t))return!0;return!1}function P(e){var t=ze;try{return ze=!0,e()}finally{ze=t}}function xe(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ut in e)Hn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ut in r&&Hn(r)}}}function Hn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Hn(e[n],t)}catch{}const r=Yn(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=xi(r);for(let i in n){const s=n[i].get;if(s)try{s.call(e)}catch{}}}}}const zo=["touchstart","touchmove"];function $o(e){return zo.includes(e)}const Yr=Symbol("events"),Yo=new Set,wi=new Set;function Ko(e,t,r,n={}){function i(s){if(n.capture||Gn.call(t,s),!s.cancelBubble)return ei(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?dt(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function Me(e,t,r,n,i){var s={capture:n,passive:i},o=Ko(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&os(()=>{t.removeEventListener(e,o,s)})}let yi=null;function Gn(e){var v,y;var t=this,r=t.ownerDocument,n=e.type,i=((v=e.composedPath)==null?void 0:v.call(e))||[],s=i[0]||e.target;yi=e;var o=0,u=yi===e&&e[Yr];if(u){var a=i.indexOf(u);if(a!==-1&&(t===document||t===window)){e[Yr]=t;return}var f=i.indexOf(t);if(f===-1)return;a<=f&&(o=a)}if(s=i[o]||e.target,s!==t){Os(e,"currentTarget",{configurable:!0,get(){return s||r}});var h=N,p=x;Be(null),rt(null);try{for(var _,g=[];s!==null;){var w=s.assignedSlot||s.parentNode||s.host||null;try{var E=(y=s[Yr])==null?void 0:y[n];E!=null&&(!s.disabled||e.target===s)&&E.call(s,e)}catch(I){_?g.push(I):_=I}if(e.cancelBubble||w===t||w===null)break;s=w}if(_){for(let I of g)queueMicrotask(()=>{throw I});throw _}}finally{e[Yr]=t,delete e.currentTarget,Be(h),rt(p)}}}var Di;const Tn=((Di=globalThis==null?void 0:globalThis.window)==null?void 0:Di.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Jo(e){return(Tn==null?void 0:Tn.createHTML(e))??e}function Xo(e){var t=Oo("template");return t.innerHTML=Jo(e.replaceAll("<!>","<!---->")),t.content}function Vn(e,t){var r=x;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function U(e,t){var r=(t&ao)!==0,n=(t&lo)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Xo(s?e:"<!>"+e),r||(i=rn(i)));var o=n||ts?document.importNode(i,!0):i.cloneNode(!0);if(r){var u=rn(o),a=o.lastChild;Vn(u,a)}else Vn(o,o);return o}}function Kr(){var e=document.createDocumentFragment(),t=document.createComment(""),r=At();return e.append(t,r),Vn(t,r),e}function q(e,t){e!==null&&e.before(t)}function ne(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Qo(e,t){return Zo(e,t)}const Jr=new Map;function Zo(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:o=!0,transformError:u}){Io();var a=void 0,f=Fo(()=>{var h=r??t.appendChild(At());yo(h,{pending:()=>{}},g=>{Jn({});var w=G;s&&(w.c=s),i&&(n.$$events=i),a=e(g,n)||{},Xn()},u);var p=new Set,_=g=>{for(var w=0;w<g.length;w++){var E=g[w];if(!p.has(E)){p.add(E);var v=$o(E);for(const S of[t,document]){var y=Jr.get(S);y===void 0&&(y=new Map,Jr.set(S,y));var I=y.get(E);I===void 0?(S.addEventListener(E,Gn,{passive:v}),y.set(E,1)):y.set(E,I+1)}}}};return _(on(Yo)),wi.add(_),()=>{var v;for(var g of p)for(const y of[t,document]){var w=Jr.get(y),E=w.get(g);--E==0?(y.removeEventListener(g,Gn),w.delete(g),w.size===0&&Jr.delete(y)):w.set(g,E)}wi.delete(_),h!==r&&((v=h.parentNode)==null||v.removeChild(h))}});return ea.set(a,f),a}let ea=new WeakMap;var Ge,Ze,je,Lt,Nr,Dr,sn;class ta{constructor(t,r=!0){he(this,"anchor");A(this,Ge,new Map);A(this,Ze,new Map);A(this,je,new Map);A(this,Lt,new Set);A(this,Nr,!0);A(this,Dr,()=>{var t=D;if(l(this,Ge).has(t)){var r=l(this,Ge).get(t),n=l(this,Ze).get(r);if(n)ii(n),l(this,Lt).delete(r);else{var i=l(this,je).get(r);i&&(l(this,Ze).set(r,i.effect),l(this,je).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),n=i.effect)}for(const[s,o]of l(this,Ge)){if(l(this,Ge).delete(s),s===t)break;const u=l(this,je).get(o);u&&(ye(u.effect),l(this,je).delete(o))}for(const[s,o]of l(this,Ze)){if(s===r||l(this,Lt).has(s))continue;const u=()=>{if(Array.from(l(this,Ge).values()).includes(s)){var f=document.createDocumentFragment();vs(o,f),f.append(At()),l(this,je).set(s,{effect:o,fragment:f})}else ye(o);l(this,Lt).delete(s),l(this,Ze).delete(s)};l(this,Nr)||!n?(l(this,Lt).add(s),Ht(o,u,!1)):u()}}});A(this,sn,t=>{l(this,Ge).delete(t);const r=Array.from(l(this,Ge).values());for(const[n,i]of l(this,je))r.includes(n)||(ye(i.effect),l(this,je).delete(n))});this.anchor=t,R(this,Nr,r)}ensure(t,r){var n=D,i=is();if(r&&!l(this,Ze).has(t)&&!l(this,je).has(t))if(i){var s=document.createDocumentFragment(),o=At();s.append(o),l(this,je).set(t,{effect:ke(()=>r(o)),fragment:s})}else l(this,Ze).set(t,ke(()=>r(this.anchor)));if(l(this,Ge).set(n,t),i){for(const[u,a]of l(this,Ze))u===t?n.unskip_effect(a):n.skip_effect(a);for(const[u,a]of l(this,je))u===t?n.unskip_effect(a.effect):n.skip_effect(a.effect);n.oncommit(l(this,Dr)),n.ondiscard(l(this,sn))}else l(this,Dr).call(this)}}Ge=new WeakMap,Ze=new WeakMap,je=new WeakMap,Lt=new WeakMap,Nr=new WeakMap,Dr=new WeakMap,sn=new WeakMap;function pe(e,t,r=!1){var n=new ta(e),i=r?ur:0;function s(o,u){n.ensure(o,u)}ri(()=>{var o=!1;t((u,a=0)=>{o=!0,s(a,u)}),o||s(!1,null)},i)}function Er(e,t){return t}function ra(e,t,r){for(var n=[],i=t.length,s,o=t.length,u=0;u<i;u++){let p=t[u];Ht(p,()=>{if(s){if(s.pending.delete(p),s.done.add(p),s.pending.size===0){var _=e.outrogroups;Wn(on(s.done)),_.delete(s),_.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=n.length===0&&r!==null;if(a){var f=r,h=f.parentNode;Mo(h),h.append(f),e.items.clear()}Wn(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function Wn(e,t=!0){for(var r=0;r<e.length;r++)ye(e[r],t)}var bi;function Mt(e,t,r,n,i,s=null){var o=e,u=new Map,a=(t&Fi)!==0;if(a){var f=e;o=f.appendChild(At())}var h=null,p=un(()=>{var y=r();return $n(y)?y:y==null?[]:on(y)}),_,g=!0;function w(){v.fallback=h,na(v,_,o,t,n),h!==null&&(_.length===0?(h.f&ft)===0?ii(h):(h.f^=ft,Rr(h,null,o)):Ht(h,()=>{h=null}))}var E=ri(()=>{_=c(p);for(var y=_.length,I=new Set,S=D,L=is(),J=0;J<y;J+=1){var _e=_[J],W=n(_e,J),z=g?null:u.get(W);z?(z.v&&cr(z.v,_e),z.i&&cr(z.i,J),L&&S.unskip_effect(z.e)):(z=ia(u,g?o:bi??(bi=At()),_e,W,J,i,t,r),g||(z.e.f|=ft),u.set(W,z)),I.add(W)}if(y===0&&s&&!h&&(g?h=ke(()=>s(o)):(h=ke(()=>s(bi??(bi=At()))),h.f|=ft)),y>I.size&&Vs(),!g)if(L){for(const[be,it]of u)I.has(be)||S.skip_effect(it.e);S.oncommit(w),S.ondiscard(()=>{})}else w();c(p)}),v={effect:E,items:u,outrogroups:null,fallback:h};g=!1}function yr(e){for(;e!==null&&(e.f&$e)===0;)e=e.next;return e}function na(e,t,r,n,i){var it,Ye,Yt,st,ht,Kt,M,$,Ee;var s=(n&ro)!==0,o=t.length,u=e.items,a=yr(e.effect.first),f,h=null,p,_=[],g=[],w,E,v,y;if(s)for(y=0;y<o;y+=1)w=t[y],E=i(w,y),v=u.get(E).e,(v.f&ft)===0&&((Ye=(it=v.nodes)==null?void 0:it.a)==null||Ye.measure(),(p??(p=new Set)).add(v));for(y=0;y<o;y+=1){if(w=t[y],E=i(w,y),v=u.get(E).e,e.outrogroups!==null)for(const de of e.outrogroups)de.pending.delete(v),de.done.delete(v);if((v.f&ft)!==0)if(v.f^=ft,v===a)Rr(v,null,r);else{var I=h?h.next:a;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),yt(e,h,v),yt(e,v,I),Rr(v,I,r),h=v,_=[],g=[],a=yr(h.next);continue}if((v.f&Ce)!==0&&(ii(v),s&&((st=(Yt=v.nodes)==null?void 0:Yt.a)==null||st.unfix(),(p??(p=new Set)).delete(v))),v!==a){if(f!==void 0&&f.has(v)){if(_.length<g.length){var S=g[0],L;h=S.prev;var J=_[0],_e=_[_.length-1];for(L=0;L<_.length;L+=1)Rr(_[L],S,r);for(L=0;L<g.length;L+=1)f.delete(g[L]);yt(e,J.prev,_e.next),yt(e,h,J),yt(e,_e,S),a=S,h=_e,y-=1,_=[],g=[]}else f.delete(v),Rr(v,a,r),yt(e,v.prev,v.next),yt(e,v,h===null?e.effect.first:h.next),yt(e,h,v),h=v;continue}for(_=[],g=[];a!==null&&a!==v;)(f??(f=new Set)).add(a),g.push(a),a=yr(a.next);if(a===null)continue}(v.f&ft)===0&&_.push(v),h=v,a=yr(v.next)}if(e.outrogroups!==null){for(const de of e.outrogroups)de.pending.size===0&&(Wn(on(de.done)),(ht=e.outrogroups)==null||ht.delete(de));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||f!==void 0){var W=[];if(f!==void 0)for(v of f)(v.f&Ce)===0&&W.push(v);for(;a!==null;)(a.f&Ce)===0&&a!==e.fallback&&W.push(a),a=yr(a.next);var z=W.length;if(z>0){var be=(n&Fi)!==0&&o===0?r:null;if(s){for(y=0;y<z;y+=1)(M=(Kt=W[y].nodes)==null?void 0:Kt.a)==null||M.measure();for(y=0;y<z;y+=1)(Ee=($=W[y].nodes)==null?void 0:$.a)==null||Ee.fix()}ra(e,W,be)}}s&&dt(()=>{var de,ot;if(p!==void 0)for(v of p)(ot=(de=v.nodes)==null?void 0:de.a)==null||ot.apply()})}function ia(e,t,r,n,i,s,o,u){var a=(o&eo)!==0?(o&no)===0?X(r,!1,!1):Nt(r):null,f=(o&to)!==0?Nt(i):null;return{v:a,i:f,e:ke(()=>(s(t,a??r,f??i,u),()=>{e.delete(n)}))}}function Rr(e,t,r){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end,s=t&&(t.f&ft)===0?t.nodes.start:r;n!==null;){var o=Mr(n);if(s.before(n),n===i)return;n=o}}function yt(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Ei=[...` 	
\r\fÂ \v\uFEFF`];function sa(e,t,r){var n=e==null?"":""+e;if(r){for(var i of Object.keys(r))if(r[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var u=o+s;(o===0||Ei.includes(n[o-1]))&&(u===n.length||Ei.includes(n[u]))?n=(o===0?"":n.substring(0,o))+n.substring(u+1):o=u}}return n===""?null:n}function Sn(e,t,r,n,i,s){var o=e.__className;if(o!==r||o===void 0){var u=sa(r,n,s);u==null?e.removeAttribute("class"):e.className=u,e.__className=r}else if(s&&i!==s)for(var a in s){var f=!!s[a];(i==null||f!==!!i[a])&&e.classList.toggle(a,f)}return s}const oa=Symbol("is custom element"),aa=Symbol("is html"),la=Hs?"progress":"PROGRESS";function ua(e,t){var r=bs(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==la)||(e.value=t??"")}function jn(e,t,r,n){var i=bs(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[Us]=r),r==null?e.removeAttribute(t):typeof r!="string"&&fa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function bs(e){return e.__attributes??(e.__attributes={[oa]:e.nodeName.includes("-"),[aa]:e.namespaceURI===Li})}var Ri=new Map;function fa(e){var t=e.getAttribute("is")||e.nodeName,r=Ri.get(t);if(r)return r;Ri.set(t,r=[]);for(var n,i=e,s=Element.prototype;s!==i;){n=xi(i);for(var o in n)n[o].set&&r.push(o);i=Yn(i)}return r}function Ti(e,t){return e===t||(e==null?void 0:e[Ut])===t}function Si(e={},t,r,n){return Lo(()=>{var i,s;return fn(()=>{i=s,s=[],P(()=>{e!==r(...s)&&(t(e,...s),i&&Ti(r(...i),e)&&t(null,...i))})}),()=>{dt(()=>{s&&Ti(r(...s),e)&&t(null,...s)})}}),e}function ca(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Es(e=!1){const t=G,r=t.l.u;if(!r)return;let n=()=>xe(t.s);if(e){let i=0,s={};const o=ln(()=>{let u=!1;const a=t.s;for(const f in a)a[f]!==s[f]&&(s[f]=a[f],u=!0);return u&&i++,i});n=()=>c(o)}r.b.length&&qo(()=>{ji(t,n),Nn(r.b)}),Bn(()=>{const i=P(()=>r.m.map(Ls));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&Bn(()=>{ji(t,n),Nn(r.a)})}function ji(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}function da(e){var t=Nt(0);return function(){return arguments.length===1?(b(t,c(t)+1),arguments[0]):(c(t),e())}}function va(e,t){var s;var r=(s=e.$$events)==null?void 0:s[t.type],n=$n(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,t)}let Xr=!1;function ha(e){var t=Xr;try{return Xr=!1,[e(),Xr]}finally{Xr=t}}function ce(e,t,r,n){var I;var i=!vr||(r&io)!==0,s=(r&oo)!==0,o=n,u=!0,a=()=>(u&&(u=!1,o=n),o),f;{var h=Ut in e||Bs in e;f=((I=Zt(e,t))==null?void 0:I.set)??(h&&t in e?S=>e[t]=S:void 0)}var p,_=!1;[p,_]=ha(()=>e[t]),p===void 0&&n!==void 0&&(p=a(),f&&(i&&Ks(),f(p)));var g;if(i?g=()=>{var S=e[t];return S===void 0?a():(u=!0,S)}:g=()=>{var S=e[t];return S!==void 0&&(o=void 0),S===void 0?o:S},i&&(r&so)===0)return g;if(f){var w=e.$$legacy;return(function(S,L){return arguments.length>0?((!i||!L||w||_)&&f(L?g():S),S):g()})}var E=!1,v=un(()=>(E=!1,g()));c(v);var y=x;return(function(S,L){if(arguments.length>0){const J=L?c(v):i&&s?Qt(S):S;return b(v,J),E=!0,o!==void 0&&(o=J),S}return Dt&&E||(y.f&ct)!==0?v.v:c(v)})}function si(e){G===null&&qi(),vr&&G.l!==null?pa(G).m.push(e):Bn(()=>{const t=P(e);if(typeof t=="function")return t})}function Rs(e){G===null&&qi(),si(()=>()=>P(e))}function pa(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const _a="5";var Pi;typeof window<"u"&&((Pi=window.__svelte??(window.__svelte={})).v??(Pi.v=new Set)).add(_a);vo();class Ci extends Error{constructor(r,n,i){super(i);he(this,"url");he(this,"status");he(this,"statusText");he(this,"body");he(this,"request");this.name="ApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.body=n.body,this.request=r}}class ma extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}}var et,tt,Ve,Et,Bt,ar,Rt;class ga{constructor(t){A(this,et);A(this,tt);A(this,Ve);A(this,Et);A(this,Bt);A(this,ar);A(this,Rt);R(this,et,!1),R(this,tt,!1),R(this,Ve,!1),R(this,Et,[]),R(this,Bt,new Promise((r,n)=>{R(this,ar,r),R(this,Rt,n);const i=u=>{l(this,et)||l(this,tt)||l(this,Ve)||(R(this,et,!0),l(this,ar)&&l(this,ar).call(this,u))},s=u=>{l(this,et)||l(this,tt)||l(this,Ve)||(R(this,tt,!0),l(this,Rt)&&l(this,Rt).call(this,u))},o=u=>{l(this,et)||l(this,tt)||l(this,Ve)||l(this,Et).push(u)};return Object.defineProperty(o,"isResolved",{get:()=>l(this,et)}),Object.defineProperty(o,"isRejected",{get:()=>l(this,tt)}),Object.defineProperty(o,"isCancelled",{get:()=>l(this,Ve)}),t(i,s,o)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(t,r){return l(this,Bt).then(t,r)}catch(t){return l(this,Bt).catch(t)}finally(t){return l(this,Bt).finally(t)}cancel(){if(!(l(this,et)||l(this,tt)||l(this,Ve))){if(R(this,Ve,!0),l(this,Et).length)try{for(const t of l(this,Et))t()}catch(t){console.warn("Cancellation threw an error",t);return}l(this,Et).length=0,l(this,Rt)&&l(this,Rt).call(this,new ma("Request aborted"))}}get isCancelled(){return l(this,Ve)}}et=new WeakMap,tt=new WeakMap,Ve=new WeakMap,Et=new WeakMap,Bt=new WeakMap,ar=new WeakMap,Rt=new WeakMap;const H={BASE:"",VERSION:"1.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},oi=e=>e!=null,Or=e=>typeof e=="string",Cn=e=>Or(e)&&e!=="",ai=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),Ts=e=>e instanceof FormData,wa=e=>{try{return btoa(e)}catch{return Buffer.from(e).toString("base64")}},ya=e=>{const t=[],r=(i,s)=>{t.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{oi(s)&&(Array.isArray(s)?s.forEach(o=>{n(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,u])=>{n(`${i}[${o}]`,u)}):r(i,s))};return Object.entries(e).forEach(([i,s])=>{n(i,s)}),t.length>0?`?${t.join("&")}`:""},ba=(e,t)=>{const r=e.ENCODE_PATH||encodeURI,n=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(s,o)=>{var u;return(u=t.path)!=null&&u.hasOwnProperty(o)?r(String(t.path[o])):s}),i=`${e.BASE}${n}`;return t.query?`${i}${ya(t.query)}`:i},Ea=e=>{if(e.formData){const t=new FormData,r=(n,i)=>{Or(i)||ai(i)?t.append(n,i):t.append(n,JSON.stringify(i))};return Object.entries(e.formData).filter(([n,i])=>oi(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r(n,s)):r(n,i)}),t}},Qr=async(e,t)=>typeof t=="function"?t(e):t,Ra=async(e,t)=>{const[r,n,i,s]=await Promise.all([Qr(t,e.TOKEN),Qr(t,e.USERNAME),Qr(t,e.PASSWORD),Qr(t,e.HEADERS)]),o=Object.entries({Accept:"application/json",...s,...t.headers}).filter(([u,a])=>oi(a)).reduce((u,[a,f])=>({...u,[a]:String(f)}),{});if(Cn(r)&&(o.Authorization=`Bearer ${r}`),Cn(n)&&Cn(i)){const u=wa(`${n}:${i}`);o.Authorization=`Basic ${u}`}return t.body!==void 0&&(t.mediaType?o["Content-Type"]=t.mediaType:ai(t.body)?o["Content-Type"]=t.body.type||"application/octet-stream":Or(t.body)?o["Content-Type"]="text/plain":Ts(t.body)||(o["Content-Type"]="application/json")),new Headers(o)},Ta=e=>{var t;if(e.body!==void 0)return(t=e.mediaType)!=null&&t.includes("/json")?JSON.stringify(e.body):Or(e.body)||ai(e.body)||Ts(e.body)?e.body:JSON.stringify(e.body)},Sa=async(e,t,r,n,i,s,o)=>{const u=new AbortController,a={headers:s,body:n??i,method:t.method,signal:u.signal};return e.WITH_CREDENTIALS&&(a.credentials=e.CREDENTIALS),o(()=>u.abort()),await fetch(r,a)},ja=(e,t)=>{if(t){const r=e.headers.get(t);if(Or(r))return r}},Ca=async e=>{if(e.status!==204)try{const t=e.headers.get("Content-Type");if(t)return["application/json","application/problem+json"].some(i=>t.toLowerCase().startsWith(i))?await e.json():await e.text()}catch(t){console.error(t)}},Aa=(e,t)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(n)throw new Ci(e,t,n);if(!t.ok){const i=t.status??"unknown",s=t.statusText??"unknown",o=(()=>{try{return JSON.stringify(t.body,null,2)}catch{return}})();throw new Ci(e,t,`Generic Error: status: ${i}; status text: ${s}; body: ${o}`)}},V=(e,t)=>new ga(async(r,n,i)=>{try{const s=ba(e,t),o=Ea(t),u=Ta(t),a=await Ra(e,t);if(!i.isCancelled){const f=await Sa(e,t,s,u,o,a,i),h=await Ca(f),p=ja(f,t.responseHeader),_={url:s,ok:f.ok,status:f.status,statusText:f.statusText,body:p??h};Aa(t,_),r(_.body)}}catch(s){n(s)}});class Xt{static rebuildProjection(){return V(H,{method:"POST",url:"/admin/rebuild",errors:{500:"Internal Server Error"}})}static getClientConfig(){return V(H,{method:"GET",url:"/client-config"})}static getHealth(){return V(H,{method:"GET",url:"/health"})}static listProjects(){return V(H,{method:"GET",url:"/projects",errors:{500:"Internal Server Error"}})}static createProject(t){return V(H,{method:"POST",url:"/projects",body:t,mediaType:"application/json",errors:{400:"Bad Request",409:"Conflict",422:"Unprocessable Entity",500:"Internal Server Error"}})}static deleteProject(t){return V(H,{method:"DELETE",url:"/projects/{project}",path:{project:t},errors:{404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static listCards(t,r){return V(H,{method:"GET",url:"/projects/{project}/cards",path:{project:t},query:{include_deleted:r},errors:{422:"Unprocessable Entity",500:"Internal Server Error"}})}static createCard(t,r){return V(H,{method:"POST",url:"/projects/{project}/cards",path:{project:t},body:r,mediaType:"application/json",errors:{400:"Bad Request",422:"Unprocessable Entity",500:"Internal Server Error"}})}static getCard(t,r){return V(H,{method:"GET",url:"/projects/{project}/cards/{number}",path:{project:t,number:r},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static deleteCard(t,r,n){return V(H,{method:"DELETE",url:"/projects/{project}/cards/{number}",path:{project:t,number:r},query:{hard:n},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static listAcceptanceCriteria(t,r){return V(H,{method:"GET",url:"/projects/{project}/cards/{number}/acceptance",path:{project:t,number:r},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static addAcceptanceCriterion(t,r,n){return V(H,{method:"POST",url:"/projects/{project}/cards/{number}/acceptance",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static deleteAcceptanceCriterion(t,r,n){return V(H,{method:"DELETE",url:"/projects/{project}/cards/{number}/acceptance/{criterion_id}",path:{project:t,number:r,criterion_id:n},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static updateAcceptanceCriterion(t,r,n,i){return V(H,{method:"PATCH",url:"/projects/{project}/cards/{number}/acceptance/{criterion_id}",path:{project:t,number:r,criterion_id:n},body:i,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static setCardBranch(t,r,n){return V(H,{method:"PATCH",url:"/projects/{project}/cards/{number}/branch",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static commentCard(t,r,n){return V(H,{method:"POST",url:"/projects/{project}/cards/{number}/comments",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static appendDescription(t,r,n){return V(H,{method:"PATCH",url:"/projects/{project}/cards/{number}/description",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static moveCard(t,r,n){return V(H,{method:"PATCH",url:"/projects/{project}/cards/{number}/move",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static listTodos(t,r){return V(H,{method:"GET",url:"/projects/{project}/cards/{number}/todos",path:{project:t,number:r},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static addTodo(t,r,n){return V(H,{method:"POST",url:"/projects/{project}/cards/{number}/todos",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static deleteTodo(t,r,n){return V(H,{method:"DELETE",url:"/projects/{project}/cards/{number}/todos/{todo_id}",path:{project:t,number:r,todo_id:n},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static updateTodo(t,r,n,i){return V(H,{method:"PATCH",url:"/projects/{project}/cards/{number}/todos/{todo_id}",path:{project:t,number:r,todo_id:n},body:i,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static websocketEvents(){return V(H,{method:"GET",url:"/ws"})}}var Na=U('<p class="state svelte-g56mwf" data-testid="card-details-loading">Loading card details...</p>'),Da=U('<div class="state svelte-g56mwf"><p data-testid="card-details-error"> </p> <button data-testid="card-details-retry" type="button" class="svelte-g56mwf">Retry</button></div>'),Pa=U('<p class="empty svelte-g56mwf">No description</p>'),xa=U('<article class="event svelte-g56mwf"><p class="svelte-g56mwf"> </p></article>'),Ia=U('<p class="empty svelte-g56mwf">No todos</p>'),Ma=U('<article class="event todo svelte-g56mwf"><p class="svelte-g56mwf"><span class="mono svelte-g56mwf"> </span> </p></article>'),Oa=U('<p class="empty svelte-g56mwf">No acceptance criteria</p>'),ka=U('<article class="event todo svelte-g56mwf"><p class="svelte-g56mwf"><span class="mono svelte-g56mwf"> </span> </p></article>'),qa=U('<p class="empty svelte-g56mwf">No comments</p>'),Fa=U('<article class="event svelte-g56mwf"><p class="svelte-g56mwf"> </p></article>'),La=U('<section class="review-actions svelte-g56mwf" data-testid="card-review-actions"><h3 class="svelte-g56mwf">Review Actions</h3> <div class="review-actions-buttons svelte-g56mwf"><button data-testid="card-review-move-todo" type="button" class="svelte-g56mwf">Move to Todo</button> <button data-testid="card-review-move-doing" type="button" class="svelte-g56mwf">Move to Doing</button> <button data-testid="card-review-move-done" type="button" class="svelte-g56mwf">Move to Done</button></div></section>'),Ba=U('<p class="reason-error svelte-g56mwf" data-testid="review-reason-error"> </p>'),Ua=U('<section class="reason-modal svelte-g56mwf" data-testid="review-reason-modal"><h3 class="svelte-g56mwf"> </h3> <textarea data-testid="review-reason-input" placeholder="Why is this card moving back?" rows="4" class="svelte-g56mwf"></textarea> <!> <div class="reason-modal-buttons svelte-g56mwf"><button data-testid="review-reason-submit" type="button" class="svelte-g56mwf">Confirm</button> <button data-testid="review-reason-cancel" type="button" class="svelte-g56mwf">Cancel</button></div></section>'),Ha=U('<div class="details-grid svelte-g56mwf"><section><h3 class="svelte-g56mwf">Branch</h3> <p class="mono svelte-g56mwf" data-testid="card-details-branch"> </p></section> <section><h3 class="svelte-g56mwf">Description</h3> <div data-testid="card-details-description"><!></div></section> <section><h3 class="svelte-g56mwf">Todos</h3> <div data-testid="card-details-todos"><!></div></section> <section><h3 class="svelte-g56mwf">Acceptance criteria</h3> <div data-testid="card-details-acceptance-criteria"><!></div></section> <section><h3 class="svelte-g56mwf">Comments</h3> <div data-testid="card-details-comments"><!></div></section> <!> <!></div>'),Ga=U('<div class="layer svelte-g56mwf"><section class="modal svelte-g56mwf" data-testid="card-details-modal"><header class="header svelte-g56mwf"><h2 data-testid="card-details-title" class="svelte-g56mwf"> </h2> <button data-testid="card-details-close" type="button" class="svelte-g56mwf">Close</button></header> <!></section></div>');function Va(e,t){Jn(t,!1);let r=ce(t,"card",8,null),n=ce(t,"loading",8,!1),i=ce(t,"errorMessage",8,null),s=ce(t,"onClose",8,()=>{}),o=ce(t,"onRetry",8,()=>{}),u=ce(t,"reviewActionsVisible",8,!1),a=ce(t,"reviewActionBusy",8,!1),f=ce(t,"onMoveReviewToTodo",8,()=>{}),h=ce(t,"onMoveReviewToDoing",8,()=>{}),p=ce(t,"onMoveReviewToDone",8,()=>{}),_=ce(t,"reviewReasonTargetStatus",8,null),g=ce(t,"reviewReasonInput",8,""),w=ce(t,"reviewReasonError",8,null),E=ce(t,"onReviewReasonInput",8,()=>{}),v=ce(t,"onSubmitReviewReason",8,()=>{}),y=ce(t,"onCancelReviewReason",8,()=>{}),I=X(null),S=X(null),L=X(null);si(()=>{const M=$=>{var Ee;$.target instanceof Node&&((Ee=c(I))!=null&&Ee.contains($.target)||s()())};return window.addEventListener("pointerdown",M),()=>{window.removeEventListener("pointerdown",M)}}),Rs(()=>{b(I,null),b(S,null)});function J(M){return M.replace(/\\n/g,`
`)}Un(()=>(xe(_()),c(L),c(S)),()=>{_()!==c(L)&&(b(L,_()),_()&&Wo().then(()=>{var M;return(M=c(S))==null?void 0:M.focus()}))}),ls(),Es();var _e=Ga(),W=T(_e),z=T(W),be=T(z),it=T(be),Ye=O(be,2),Yt=O(z,2);{var st=M=>{var $=Na();q(M,$)},ht=M=>{var $=Da(),Ee=T($),de=T(Ee),ot=O(Ee,2);oe(()=>ne(de,i())),Me("click",ot,function(...pt){var Jt;(Jt=o())==null||Jt.apply(this,pt)}),q(M,$)},Kt=M=>{var $=Ha(),Ee=T($),de=O(T(Ee),2),ot=T(de),pt=O(Ee,2),Jt=O(T(pt),2),_t=T(Jt);{var kr=j=>{var B=Pa();q(j,B)},qr=j=>{var B=Kr(),fe=br(B);Mt(fe,1,()=>(xe(r()),P(()=>r().description??[])),Er,(ve,k)=>{var Q=xa(),ie=T(Q),Y=T(ie);oe(Re=>ne(Y,Re),[()=>(c(k),P(()=>J(c(k).body)))]),q(ve,Q)}),q(j,B)};pe(_t,j=>{xe(r()),P(()=>!r().description||r().description.length===0)?j(kr):j(qr,!1)})}var Fr=O(pt,2),cn=O(T(Fr),2),dn=T(cn);{var vn=j=>{var B=Ia();q(j,B)},Lr=j=>{var B=Kr(),fe=br(B);Mt(fe,1,()=>(xe(r()),P(()=>r().todos??[])),Er,(ve,k)=>{var Q=Ma(),ie=T(Q),Y=T(ie),Re=T(Y),mt=O(Y);oe(te=>{ne(Re,`[${c(k),P(()=>c(k).completed?"x":" ")??""}] #${c(k),P(()=>c(k).id)??""}`),ne(mt,` ${te??""}`)},[()=>(c(k),P(()=>J(c(k).text)))]),q(ve,Q)}),q(j,B)};pe(dn,j=>{xe(r()),P(()=>!r().todos||r().todos.length===0)?j(vn):j(Lr,!1)})}var Br=O(Fr,2),hn=O(T(Br),2),Ur=T(hn);{var pn=j=>{var B=Oa();q(j,B)},Hr=j=>{var B=Kr(),fe=br(B);Mt(fe,1,()=>(xe(r()),P(()=>r().acceptance_criteria??[])),Er,(ve,k)=>{var Q=ka(),ie=T(Q),Y=T(ie),Re=T(Y),mt=O(Y);oe(te=>{ne(Re,`[${c(k),P(()=>c(k).completed?"x":" ")??""}] #${c(k),P(()=>c(k).id)??""}`),ne(mt,` ${te??""}`)},[()=>(c(k),P(()=>J(c(k).text)))]),q(ve,Q)}),q(j,B)};pe(Ur,j=>{xe(r()),P(()=>!r().acceptance_criteria||r().acceptance_criteria.length===0)?j(pn):j(Hr,!1)})}var Gr=O(Br,2),_n=O(T(Gr),2),mn=T(_n);{var Vr=j=>{var B=qa();q(j,B)},pr=j=>{var B=Kr(),fe=br(B);Mt(fe,1,()=>(xe(r()),P(()=>r().comments??[])),Er,(ve,k)=>{var Q=Fa(),ie=T(Q),Y=T(ie);oe(Re=>ne(Y,Re),[()=>(c(k),P(()=>J(c(k).body)))]),q(ve,Q)}),q(j,B)};pe(mn,j=>{xe(r()),P(()=>!r().comments||r().comments.length===0)?j(Vr):j(pr,!1)})}var _r=O(Gr,2);{var mr=j=>{var B=La(),fe=O(T(B),2),ve=T(fe),k=O(ve,2),Q=O(k,2);oe(()=>{ve.disabled=a(),k.disabled=a(),Q.disabled=a()}),Me("click",ve,function(...ie){var Y;(Y=f())==null||Y.apply(this,ie)}),Me("click",k,function(...ie){var Y;(Y=h())==null||Y.apply(this,ie)}),Me("click",Q,function(...ie){var Y;(Y=p())==null||Y.apply(this,ie)}),q(j,B)};pe(_r,j=>{u()&&j(mr)})}var Wr=O(_r,2);{var zr=j=>{var B=Ua(),fe=T(B),ve=T(fe),k=O(fe,2);Si(k,te=>b(S,te),()=>c(S));var Q=O(k,2);{var ie=te=>{var Ke=Ba(),gn=T(Ke);oe(()=>ne(gn,w())),q(te,Ke)};pe(Q,te=>{w()&&te(ie)})}var Y=O(Q,2),Re=T(Y),mt=O(Re,2);oe(()=>{ne(ve,`Reason for Moving to ${_()??""}`),ua(k,g()),Re.disabled=a(),mt.disabled=a()}),Me("input",k,te=>E()(te.currentTarget.value)),Me("click",Re,function(...te){var Ke;(Ke=v())==null||Ke.apply(this,te)}),Me("click",mt,function(...te){var Ke;(Ke=y())==null||Ke.apply(this,te)}),q(j,B)};pe(Wr,j=>{_()&&j(zr)})}oe(j=>ne(ot,j),[()=>(xe(r()),P(()=>{var j;return((j=r().branch)==null?void 0:j.trim())||"No branch"}))]),q(M,$)};pe(Yt,M=>{n()?M(st):i()?M(ht,1):r()&&M(Kt,2)})}Si(W,M=>b(I,M),()=>c(I)),oe(()=>ne(it,(xe(r()),P(()=>{var M;return((M=r())==null?void 0:M.title)??"Card details"})))),Me("click",Ye,function(...M){var $;($=s())==null||$.apply(this,M)}),Me("click",W,ca(function(M){va.call(this,t,M)})),q(e,_e),Xn()}var Ai=da(()=>H),Wa=U('<h1 data-testid="projects-title" class="svelte-1n46o8q">Projects</h1>'),za=U('<li><button data-testid="project-item" type="button"> </button></li>'),$a=U('<ul class="project-list svelte-1n46o8q"></ul>'),Ya=U("<p>No project selected</p>"),Ka=U('<div class="card-checklists svelte-1n46o8q"> </div>'),Ja=U('<div class="card-branch svelte-1n46o8q"> </div>'),Xa=U('<article class="card svelte-1n46o8q" data-testid="card-item"><div class="card-title svelte-1n46o8q"> </div> <!> <!></article>'),Qa=U('<section class="lane svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <div class="lane-cards svelte-1n46o8q"></div></section>'),Za=U('<div class="board svelte-1n46o8q" data-testid="board"></div>'),el=U('<div class="alert svelte-1n46o8q" role="alert"> </div>'),tl=U('<main><aside data-testid="projects-sidebar"><div class="sidebar-header svelte-1n46o8q"><!> <button class="sidebar-toggle svelte-1n46o8q" data-testid="sidebar-toggle" type="button"> </button></div> <!></aside> <section class="detail svelte-1n46o8q"><!></section></main> <!> <!>',1);function rl(e,t){Jn(t,!1);const r=["Todo","Doing","Review","Done"],n="card.",i=new Set(["project.created","project.deleted"]),s=/^\/card\/([^/]+)\/(\d+)\/?$/,o="".trim();let u=o,a=X([]),f=X([]),h=X(Lr()),p=X(null),_=X(null),g=X(!1),w=null,E=X(null),v=X(null),y=X(null),I=X(!1),S=X(null),L=0,J=X(!1),_e=X(!1),W=X(null),z=X(""),be=X(null);si(async()=>{u=await mn(),Ai(Ai().BASE=u),await it();const d=Hr(window.location.pathname);d&&await st(d.projectSlug,d.number,{historyMode:"replace",selectProject:!0}),window.addEventListener("popstate",kr),window.addEventListener("keydown",qr),Fr()}),Rs(()=>{w==null||w.close(),window.removeEventListener("popstate",kr),window.removeEventListener("keydown",qr)});async function it(){try{const d=await Xt.listProjects();b(a,[...d.projects].sort(dn)),c(p)&&!c(a).some(m=>m.slug===c(p))&&b(p,null),c(E)&&!c(a).some(m=>m.slug===c(E))&&_t({historyMode:"replace"}),await Ye()}catch(d){b(_,`Failed to load projects: ${String(d)}`)}}async function Ye(){if(!c(p)){b(f,[]);return}try{const d=await Xt.listCards(c(p));b(f,[...d.cards].sort(vn))}catch(d){b(_,`Failed to load cards: ${String(d)}`)}}async function Yt(d){b(p,d),c(E)&&c(E)!==d&&_t({historyMode:"replace"}),await Ye()}async function st(d,m,C={}){const F=C.historyMode??"push",Ne=C.selectProject??!1,De=++L;if(b(E,d),b(v,m),b(y,null),b(S,null),b(I,!0),Gr(d,m,F),!(Ne&&c(p)!==d&&(b(p,d),await Ye(),De!==L)))try{const gt=await Xt.getCard(d,m);if(De!==L)return;b(y,gt)}catch(gt){if(De!==L)return;b(S,`Failed to load card details: ${String(gt)}`)}finally{De===L&&b(I,!1)}}async function ht(){!c(E)||c(v)===null||await st(c(E),c(v),{historyMode:"replace",selectProject:!0})}function Kt(d){return d==="Todo"||d==="Doing"}function M(d){b(W,d),b(z,""),b(be,null)}function $(){b(W,null),b(z,""),b(be,null)}function Ee(d){b(z,d),c(be)&&b(be,null)}async function de(){await Ye(),await ht()}async function ot(d,m){if(!c(E)||c(v)===null)return;const C=c(E),F=c(v);b(_e,!0);try{if(await Xt.moveCard(C,F,{status:d}),m!==null){const Ne=`Moved back to ${d}: ${m}`;try{await Xt.commentCard(C,F,{body:Ne})}catch{try{await Xt.moveCard(C,F,{status:"Review"})}catch{}b(_,"Failed to add transition reason"),$();return}}$(),_t({historyMode:"replace"})}catch(Ne){b(_,`Failed to move card: ${String(Ne)}`)}finally{await de(),b(_e,!1)}}async function pt(d){var m;if(((m=c(y))==null?void 0:m.status)==="Review"){if(Kt(d)){M(d);return}await ot(d,null)}}async function Jt(){if(!c(W))return;const d=c(z).trim();if(!d){b(be,"Reason is required");return}await ot(c(W),d)}function _t(d={}){const m=d.historyMode??"push";L+=1,$(),b(E,null),b(v,null),b(y,null),b(S,null),b(I,!1),_n(m)}function kr(){const d=Hr(window.location.pathname);if(!d){_t({historyMode:"none"});return}st(d.projectSlug,d.number,{historyMode:"none",selectProject:!0})}function qr(d){if(d.key==="Escape"&&c(W)){d.preventDefault(),$();return}d.key==="Escape"&&c(J)&&(d.preventDefault(),_t({historyMode:"push"}))}function Fr(){const d=cn();w=new WebSocket(d),w.addEventListener("message",async m=>{try{const C=JSON.parse(String(m.data));if(C.type&&i.has(C.type)){await it();return}C.type&&C.type.startsWith(n)&&c(p)&&C.project===c(p)&&(await Ye(),c(E)===c(p)&&c(v)!==null&&await ht())}catch{}}),w.addEventListener("error",()=>{b(_,"Project stream failed: websocket error")})}function cn(){const d=u||window.location.origin,m=new URL(d);return m.protocol=m.protocol==="https:"?"wss:":"ws:",m.pathname="/ws",m.search="",m.hash="",m.toString()}function dn(d,m){const C=d.name.localeCompare(m.name);return C!==0?C:d.slug.localeCompare(m.slug)}function vn(d,m){return d.number-m.number}function Lr(){return{Todo:[],Doing:[],Review:[],Done:[]}}function Br(d){const m=Lr();for(const C of d)(C.status==="Todo"||C.status==="Doing"||C.status==="Review"||C.status==="Done")&&m[C.status].push(C);return m}function hn(d){var C,F;const m=[];return(C=d.local_path)!=null&&C.trim()&&m.push(`Local: ${d.local_path.trim()}`),(F=d.remote_url)!=null&&F.trim()&&m.push(`Remote: ${d.remote_url.trim()}`),m.length>0?m.join(`
`):d.slug}function Ur(d){const m=[];return d.todos_count>0&&m.push(`${d.todos_completed_count}/${d.todos_count} Todos`),d.acceptance_criteria_count>0&&m.push(`${d.acceptance_criteria_completed_count}/${d.acceptance_criteria_count} AC`),m.length===0?null:m.join(" ")}function pn(){b(g,!c(g))}function Hr(d){const m=d.match(s);if(!m)return null;let C;try{C=decodeURIComponent(m[1])}catch{return null}const F=Number.parseInt(m[2],10);return!Number.isInteger(F)||F<=0?null:{projectSlug:C,number:F}}function Gr(d,m,C){if(C==="none")return;const F=`/card/${encodeURIComponent(d)}/${m}`;if(window.location.pathname!==F){if(C==="replace"){window.history.replaceState({},"",F);return}window.history.pushState({},"",F)}}function _n(d){if(d!=="none"&&window.location.pathname!=="/"){if(d==="replace"){window.history.replaceState({},"","/");return}window.history.pushState({},"","/")}}async function mn(){if(o)return o;try{const d=await fetch("/client-config");if(d.ok){const m=await d.json();if(typeof m.server_url=="string"&&m.server_url.trim()!=="")return m.server_url.trim()}}catch{}return window.location.origin}Un(()=>c(f),()=>{b(h,Br(c(f)))}),Un(()=>(c(E),c(v)),()=>{b(J,c(E)!==null&&c(v)!==null)}),ls(),Es();var Vr=tl(),pr=br(Vr);let _r;var mr=T(pr);let Wr;var zr=T(mr),j=T(zr);{var B=d=>{var m=Wa();q(d,m)};pe(j,d=>{c(g)||d(B)})}var fe=O(j,2),ve=T(fe),k=O(zr,2);{var Q=d=>{var m=$a();Mt(m,5,()=>c(a),C=>C.slug,(C,F)=>{var Ne=za(),De=T(Ne);let gt;var wn=T(De);oe(gr=>{jn(De,"title",gr),gt=Sn(De,1,"svelte-1n46o8q",null,gt,{selected:c(p)===c(F).slug}),ne(wn,(c(F),P(()=>c(F).name)))},[()=>(c(F),P(()=>hn(c(F))))]),Me("click",De,()=>Yt(c(F).slug)),q(C,Ne)}),q(d,m)};pe(k,d=>{c(g)||d(Q)})}var ie=O(mr,2),Y=T(ie);{var Re=d=>{var m=Ya();q(d,m)},mt=d=>{var m=Za();Mt(m,5,()=>r,Er,(C,F)=>{var Ne=Qa(),De=T(Ne),gt=T(De),wn=O(De,2);Mt(wn,5,()=>(c(h),c(F),P(()=>c(h)[c(F)])),gr=>gr.id,(gr,Pe)=>{var yn=Xa(),ui=T(yn),js=T(ui),fi=O(ui,2);{var Cs=Je=>{var wr=Ka(),bn=T(wr);oe(En=>ne(bn,En),[()=>(c(Pe),P(()=>Ur(c(Pe))))]),q(Je,wr)},As=pi(()=>(c(Pe),P(()=>Ur(c(Pe)))));pe(fi,Je=>{c(As)&&Je(Cs)})}var Ns=O(fi,2);{var Ds=Je=>{var wr=Ja(),bn=T(wr);oe(En=>ne(bn,En),[()=>(c(Pe),P(()=>c(Pe).branch.trim()))]),q(Je,wr)},Ps=pi(()=>(c(Pe),P(()=>{var Je;return(Je=c(Pe).branch)==null?void 0:Je.trim()})));pe(Ns,Je=>{c(Ps)&&Je(Ds)})}oe(()=>ne(js,(c(Pe),P(()=>c(Pe).title)))),Me("click",yn,()=>st(c(Pe).project,c(Pe).number,{historyMode:"push",selectProject:!1})),q(gr,yn)}),oe(()=>{jn(Ne,"data-testid","lane-"+c(F)),ne(gt,c(F))}),q(C,Ne)}),q(d,m)};pe(Y,d=>{c(p)?d(mt,!1):d(Re)})}var te=O(pr,2);{var Ke=d=>{{let m=un(()=>(c(y),P(()=>{var C;return((C=c(y))==null?void 0:C.status)==="Review"})));Va(d,{get card(){return c(y)},get errorMessage(){return c(S)},get loading(){return c(I)},onCancelReviewReason:$,onClose:()=>_t({historyMode:"push"}),onMoveReviewToDoing:()=>pt("Doing"),onMoveReviewToDone:()=>pt("Done"),onMoveReviewToTodo:()=>pt("Todo"),onReviewReasonInput:Ee,onRetry:ht,onSubmitReviewReason:Jt,get reviewActionBusy(){return c(_e)},get reviewActionsVisible(){return c(m)},get reviewReasonError(){return c(be)},get reviewReasonInput(){return c(z)},get reviewReasonTargetStatus(){return c(W)}})}};pe(te,d=>{c(J)&&d(Ke)})}var gn=O(te,2);{var Ss=d=>{var m=el(),C=T(m);oe(()=>ne(C,c(_))),q(d,m)};pe(gn,d=>{c(_)&&d(Ss)})}oe(()=>{_r=Sn(pr,1,"layout svelte-1n46o8q",null,_r,{"sidebar-hidden":c(g)}),Wr=Sn(mr,1,"sidebar svelte-1n46o8q",null,Wr,{collapsed:c(g)}),jn(fe,"aria-label",c(g)?"Show projects":"Hide projects"),ne(ve,c(g)?"âº":"â¹")}),Me("click",fe,pn),q(e,Vr),Xn()}Qo(rl,{target:document.getElementById("app")});
