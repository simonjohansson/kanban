var ls=Object.defineProperty;var kn=e=>{throw TypeError(e)};var fs=(e,t,r)=>t in e?ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var X=(e,t,r)=>fs(e,typeof t!="symbol"?t+"":t,r),qr=(e,t,r)=>t.has(e)||kn("Cannot "+r);var l=(e,t,r)=>(qr(e,t,"read from private field"),r?r.call(e):t.get(e)),T=(e,t,r)=>t.has(e)?kn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),E=(e,t,r,n)=>(qr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),G=(e,t,r)=>(qr(e,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Vr=!1;var cn=Array.isArray,us=Array.prototype.indexOf,Wt=Array.prototype.includes,Pr=Array.from,cs=Object.defineProperty,Lt=Object.getOwnPropertyDescriptor,ri=Object.getOwnPropertyDescriptors,ds=Object.prototype,hs=Array.prototype,dn=Object.getPrototypeOf,Ln=Object.isExtensible;const vs=()=>{};function ps(e){return e()}function Gr(e){for(var t=0;t<e.length;t++)e[t]()}function ni(){var e,t,r=new Promise((n,i)=>{e=n,t=i});return{promise:r,resolve:e,reject:t}}const K=2,vr=4,pr=8,ii=1<<24,Ge=16,Ne=32,jt=64,zr=128,_e=512,$=1024,J=2048,me=4096,ue=8192,$e=16384,Ct=32768,Yt=65536,qn=1<<17,si=1<<18,Qt=1<<19,oi=1<<20,He=1<<25,Rt=65536,Wr=1<<21,hn=1<<22,it=1<<23,Et=Symbol("$state"),_s=Symbol("legacy props"),gs=Symbol(""),vt=new class extends Error{constructor(){super(...arguments);X(this,"name","StaleReactionError");X(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ai(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ms(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ys(e,t,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ws(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Es(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ss(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ts(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Cs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Rs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function As(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function js(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ns=1,Ps=2,li=4,Ds=8,Os=16,xs=2,Is=4,Ms=8,ks=1,Ls=2,W=Symbol(),fi="http://www.w3.org/1999/xhtml";function qs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ui(e){return e===this.v}function Fs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ci(e){return!Fs(e,this.v)}let Xt=!1,Bs=!1;function Us(){Xt=!0}let k=null;function Kt(e){k=e}function vn(e,t=!1,r){k={p:k,i:!1,c:null,e:null,s:e,x:null,l:Xt&&!t?{s:null,u:null,$:[]}:null}}function pn(e){var t=k,r=t.e;if(r!==null){t.e=null;for(var n of r)Ni(n)}return t.i=!0,k=t.p,{}}function _r(){return!Xt||k!==null&&k.l===null}let Mt=[];function Hs(){var e=Mt;Mt=[],Gr(e)}function Ve(e){if(Mt.length===0){var t=Mt;queueMicrotask(()=>{t===Mt&&Hs()})}Mt.push(e)}function di(e){var t=N;if(t===null)return A.f|=it,e;if((t.f&Ct)===0&&(t.f&vr)===0)throw e;nt(e,t)}function nt(e,t){for(;t!==null;){if((t.f&zr)!==0){if((t.f&Ct)===0)throw e;try{t.b.error(e);return}catch(r){e=r}}t=t.parent}throw e}const $s=-7169;function L(e,t){e.f=e.f&$s|t}function _n(e){(e.f&_e)!==0||e.deps===null?L(e,$):L(e,me)}function hi(e){if(e!==null)for(const t of e)(t.f&K)===0||(t.f&Rt)===0||(t.f^=Rt,hi(t.deps))}function vi(e,t,r){(e.f&J)!==0?t.add(e):(e.f&me)!==0&&r.add(e),hi(e.deps),L(e,$)}const yr=new Set;let P=null,Y=null,ve=[],gn=null,Yr=!1;var Ft,Bt,_t,Ut,ur,cr,gt,Fe,Ht,ce,Kr,Jr,Qr,pi;const jn=class jn{constructor(){T(this,ce);X(this,"current",new Map);X(this,"previous",new Map);T(this,Ft,new Set);T(this,Bt,new Set);T(this,_t,0);T(this,Ut,0);T(this,ur,null);T(this,cr,new Set);T(this,gt,new Set);T(this,Fe,new Map);X(this,"is_fork",!1);T(this,Ht,!1)}skip_effect(t){l(this,Fe).has(t)||l(this,Fe).set(t,{d:[],m:[]})}unskip_effect(t){var r=l(this,Fe).get(t);if(r){l(this,Fe).delete(t);for(var n of r.d)L(n,J),Ae(n);for(n of r.m)L(n,me),Ae(n)}}process(t){var i;ve=[],this.apply();var r=[],n=[];for(const s of t)G(this,ce,Jr).call(this,s,r,n);if(G(this,ce,Kr).call(this)){G(this,ce,Qr).call(this,n),G(this,ce,Qr).call(this,r);for(const[s,o]of l(this,Fe))mi(s,o)}else{for(const s of l(this,Ft))s();l(this,Ft).clear(),l(this,_t)===0&&G(this,ce,pi).call(this),P=null,Fn(n),Fn(r),(i=l(this,ur))==null||i.resolve()}Y=null}capture(t,r){r!==W&&!this.previous.has(t)&&this.previous.set(t,r),(t.f&it)===0&&(this.current.set(t,t.v),Y==null||Y.set(t,t.v))}activate(){P=this,this.apply()}deactivate(){P===this&&(P=null,Y=null)}flush(){if(this.activate(),ve.length>0){if(Vs(),P!==null&&P!==this)return}else l(this,_t)===0&&this.process([]);this.deactivate()}discard(){for(const t of l(this,Bt))t(this);l(this,Bt).clear()}increment(t){E(this,_t,l(this,_t)+1),t&&E(this,Ut,l(this,Ut)+1)}decrement(t){E(this,_t,l(this,_t)-1),t&&E(this,Ut,l(this,Ut)-1),!l(this,Ht)&&(E(this,Ht,!0),Ve(()=>{E(this,Ht,!1),G(this,ce,Kr).call(this)?ve.length>0&&this.flush():this.revive()}))}revive(){for(const t of l(this,cr))l(this,gt).delete(t),L(t,J),Ae(t);for(const t of l(this,gt))L(t,me),Ae(t);this.flush()}oncommit(t){l(this,Ft).add(t)}ondiscard(t){l(this,Bt).add(t)}settled(){return(l(this,ur)??E(this,ur,ni())).promise}static ensure(){if(P===null){const t=P=new jn;yr.add(P),Ve(()=>{P===t&&t.flush()})}return P}apply(){}};Ft=new WeakMap,Bt=new WeakMap,_t=new WeakMap,Ut=new WeakMap,ur=new WeakMap,cr=new WeakMap,gt=new WeakMap,Fe=new WeakMap,Ht=new WeakMap,ce=new WeakSet,Kr=function(){return this.is_fork||l(this,Ut)>0},Jr=function(t,r,n){t.f^=$;for(var i=t.first;i!==null;){var s=i.f,o=(s&(Ne|jt))!==0,f=o&&(s&$)!==0,a=f||(s&ue)!==0||l(this,Fe).has(i);if(!a&&i.fn!==null){o?i.f^=$:(s&vr)!==0?r.push(i):Zt(i)&&((s&Ge)!==0&&l(this,gt).add(i),At(i));var u=i.first;if(u!==null){i=u;continue}}for(;i!==null;){var c=i.next;if(c!==null){i=c;break}i=i.parent}}},Qr=function(t){for(var r=0;r<t.length;r+=1)vi(t[r],l(this,cr),l(this,gt))},pi=function(){var i;if(yr.size>1){this.previous.clear();var t=Y,r=!0;for(const s of yr){if(s===this){r=!1;continue}const o=[];for(const[a,u]of this.current){if(s.current.has(a))if(r&&u!==s.current.get(a))s.current.set(a,u);else continue;o.push(a)}if(o.length===0)continue;const f=[...s.current.keys()].filter(a=>!this.current.has(a));if(f.length>0){var n=ve;ve=[];const a=new Set,u=new Map;for(const c of o)_i(c,f,a,u);if(ve.length>0){P=s,s.apply();for(const c of ve)G(i=s,ce,Jr).call(i,c,[],[]);s.deactivate()}ve=n}}P=null,Y=t}yr.delete(this)};let st=jn;function Vs(){Yr=!0;var e=null;try{for(var t=0;ve.length>0;){var r=st.ensure();if(t++>1e3){var n,i;Gs()}r.process(ve),ot.clear()}}finally{ve=[],Yr=!1,gn=null}}function Gs(){try{Ss()}catch(e){nt(e,gn)}}let be=null;function Fn(e){var t=e.length;if(t!==0){for(var r=0;r<t;){var n=e[r++];if((n.f&($e|ue))===0&&Zt(n)&&(be=new Set,At(n),n.deps===null&&n.first===null&&n.nodes===null&&n.teardown===null&&n.ac===null&&Di(n),(be==null?void 0:be.size)>0)){ot.clear();for(const i of be){if((i.f&($e|ue))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)be.has(o)&&(be.delete(o),s.push(o)),o=o.parent;for(let f=s.length-1;f>=0;f--){const a=s[f];(a.f&($e|ue))===0&&At(a)}}be.clear()}}be=null}}function _i(e,t,r,n){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&K)!==0?_i(i,t,r,n):(s&(hn|Ge))!==0&&(s&J)===0&&gi(i,t,n)&&(L(i,J),Ae(i))}}function gi(e,t,r){const n=r.get(e);if(n!==void 0)return n;if(e.deps!==null)for(const i of e.deps){if(Wt.call(t,i))return!0;if((i.f&K)!==0&&gi(i,t,r))return r.set(i,!0),!0}return r.set(e,!1),!1}function Ae(e){var t=gn=e,r=t.b;if(r!=null&&r.is_pending&&(e.f&(vr|pr|ii))!==0&&(e.f&Ct)===0){r.defer_effect(e);return}for(;t.parent!==null;){t=t.parent;var n=t.f;if(Yr&&t===N&&(n&Ge)!==0&&(n&si)===0&&(n&Ct)!==0)return;if((n&(jt|Ne))!==0){if((n&$)===0)return;t.f^=$}}ve.push(t)}function mi(e,t){if(!((e.f&Ne)!==0&&(e.f&$)!==0)){(e.f&J)!==0?t.d.push(e):(e.f&me)!==0&&t.m.push(e),L(e,$);for(var r=e.first;r!==null;)mi(r,t),r=r.next}}function zs(e){let t=0,r=lt(0),n;return()=>{bn()&&(v(r),Or(()=>(t===0&&(n=H(()=>e(()=>ar(r)))),t+=1,()=>{Ve(()=>{t-=1,t===0&&(n==null||n(),n=void 0,ar(r))})})))}}var Ws=Yt|Qt;function Ys(e,t,r,n){new Ks(e,t,r,n)}var he,un,De,mt,ne,Oe,le,Ee,Be,yt,et,$t,Vt,Gt,Ue,jr,V,Js,Qs,Xs,Xr,Tr,Cr,Zr;class Ks{constructor(t,r,n,i){T(this,V);X(this,"parent");X(this,"is_pending",!1);X(this,"transform_error");T(this,he);T(this,un,null);T(this,De);T(this,mt);T(this,ne);T(this,Oe,null);T(this,le,null);T(this,Ee,null);T(this,Be,null);T(this,yt,0);T(this,et,0);T(this,$t,!1);T(this,Vt,new Set);T(this,Gt,new Set);T(this,Ue,null);T(this,jr,zs(()=>(E(this,Ue,lt(l(this,yt))),()=>{E(this,Ue,null)})));var s;E(this,he,t),E(this,De,r),E(this,mt,o=>{var f=N;f.b=this,f.f|=zr,n(o)}),this.parent=N.b,this.transform_error=i??((s=this.parent)==null?void 0:s.transform_error)??(o=>o),E(this,ne,En(()=>{G(this,V,Xr).call(this)},Ws))}defer_effect(t){vi(t,l(this,Vt),l(this,Gt))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!l(this,De).pending}update_pending_count(t){G(this,V,Zr).call(this,t),E(this,yt,l(this,yt)+t),!(!l(this,Ue)||l(this,$t))&&(E(this,$t,!0),Ve(()=>{E(this,$t,!1),l(this,Ue)&&Jt(l(this,Ue),l(this,yt))}))}get_effect_pending(){return l(this,jr).call(this),v(l(this,Ue))}error(t){var r=l(this,De).onerror;let n=l(this,De).failed;if(!r&&!n)throw t;l(this,Oe)&&(se(l(this,Oe)),E(this,Oe,null)),l(this,le)&&(se(l(this,le)),E(this,le,null)),l(this,Ee)&&(se(l(this,Ee)),E(this,Ee,null));var i=!1,s=!1;const o=()=>{if(i){qs();return}i=!0,s&&js(),l(this,Ee)!==null&&St(l(this,Ee),()=>{E(this,Ee,null)}),G(this,V,Cr).call(this,()=>{st.ensure(),G(this,V,Xr).call(this)})},f=a=>{try{s=!0,r==null||r(a,o),s=!1}catch(u){nt(u,l(this,ne)&&l(this,ne).parent)}n&&E(this,Ee,G(this,V,Cr).call(this,()=>{st.ensure();try{return pe(()=>{var u=N;u.b=this,u.f|=zr,n(l(this,he),()=>a,()=>o)})}catch(u){return nt(u,l(this,ne).parent),null}}))};Ve(()=>{var a;try{a=this.transform_error(t)}catch(u){nt(u,l(this,ne)&&l(this,ne).parent);return}a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(f,u=>nt(u,l(this,ne)&&l(this,ne).parent)):f(a)})}}he=new WeakMap,un=new WeakMap,De=new WeakMap,mt=new WeakMap,ne=new WeakMap,Oe=new WeakMap,le=new WeakMap,Ee=new WeakMap,Be=new WeakMap,yt=new WeakMap,et=new WeakMap,$t=new WeakMap,Vt=new WeakMap,Gt=new WeakMap,Ue=new WeakMap,jr=new WeakMap,V=new WeakSet,Js=function(){try{E(this,Oe,pe(()=>l(this,mt).call(this,l(this,he))))}catch(t){this.error(t)}},Qs=function(t){const r=l(this,De).failed;r&&E(this,Ee,pe(()=>{r(l(this,he),()=>t,()=>()=>{})}))},Xs=function(){const t=l(this,De).pending;t&&(this.is_pending=!0,E(this,le,pe(()=>t(l(this,he)))),Ve(()=>{var r=E(this,Be,document.createDocumentFragment()),n=at();r.append(n),E(this,Oe,G(this,V,Cr).call(this,()=>(st.ensure(),pe(()=>l(this,mt).call(this,n))))),l(this,et)===0&&(l(this,he).before(r),E(this,Be,null),St(l(this,le),()=>{E(this,le,null)}),G(this,V,Tr).call(this))}))},Xr=function(){try{if(this.is_pending=this.has_pending_snippet(),E(this,et,0),E(this,yt,0),E(this,Oe,pe(()=>{l(this,mt).call(this,l(this,he))})),l(this,et)>0){var t=E(this,Be,document.createDocumentFragment());Ii(l(this,Oe),t);const r=l(this,De).pending;E(this,le,pe(()=>r(l(this,he))))}else G(this,V,Tr).call(this)}catch(r){this.error(r)}},Tr=function(){this.is_pending=!1;for(const t of l(this,Vt))L(t,J),Ae(t);for(const t of l(this,Gt))L(t,me),Ae(t);l(this,Vt).clear(),l(this,Gt).clear()},Cr=function(t){var r=N,n=A,i=k;ke(l(this,ne)),ye(l(this,ne)),Kt(l(this,ne).ctx);try{return t()}catch(s){return di(s),null}finally{ke(r),ye(n),Kt(i)}},Zr=function(t){var r;if(!this.has_pending_snippet()){this.parent&&G(r=this.parent,V,Zr).call(r,t);return}E(this,et,l(this,et)+t),l(this,et)===0&&(G(this,V,Tr).call(this),l(this,le)&&St(l(this,le),()=>{E(this,le,null)}),l(this,Be)&&(l(this,he).before(l(this,Be)),E(this,Be,null)))};function Zs(e,t,r,n){const i=_r()?Dr:mn;var s=e.filter(h=>!h.settled);if(r.length===0&&s.length===0){n(t.map(i));return}var o=N,f=eo(),a=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(h=>h.promise)):null;function u(h){f();try{n(h)}catch(_){(o.f&$e)===0&&nt(_,o)}en()}if(r.length===0){a.then(()=>u(t.map(i)));return}function c(){f(),Promise.all(r.map(h=>ro(h))).then(h=>u([...t.map(i),...h])).catch(h=>nt(h,o))}a?a.then(c):c()}function eo(){var e=N,t=A,r=k,n=P;return function(s=!0){ke(e),ye(t),Kt(r),s&&(n==null||n.activate())}}function en(e=!0){ke(null),ye(null),Kt(null),e&&(P==null||P.deactivate())}function to(){var e=N.b,t=P,r=e.is_rendered();return e.update_pending_count(1),t.increment(r),()=>{e.update_pending_count(-1),t.decrement(r)}}function Dr(e){var t=K|J,r=A!==null&&(A.f&K)!==0?A:null;return N!==null&&(N.f|=Qt),{ctx:k,deps:null,effects:null,equals:ui,f:t,fn:e,reactions:null,rv:0,v:W,wv:0,parent:r??N,ac:null}}function ro(e,t,r){N===null&&ms();var i=void 0,s=lt(W),o=!A,f=new Map;return go(()=>{var _;var a=ni();i=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).finally(en)}catch(g){a.reject(g),en()}var u=P;if(o){var c=to();(_=f.get(u))==null||_.reject(vt),f.delete(u),f.set(u,a)}const h=(g,y=void 0)=>{if(u.activate(),y)y!==vt&&(s.f|=it,Jt(s,y));else{(s.f&it)!==0&&(s.f^=it),Jt(s,g);for(const[S,d]of f){if(f.delete(S),S===u)break;d.reject(vt)}}c&&c()};a.promise.then(h,g=>h(null,g||"unknown"))}),ji(()=>{for(const a of f.values())a.reject(vt)}),new Promise(a=>{function u(c){function h(){c===i?a(s):u(i)}c.then(h,h)}u(i)})}function no(e){const t=Dr(e);return Mi(t),t}function mn(e){const t=Dr(e);return t.equals=ci,t}function io(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)se(t[r])}}function so(e){for(var t=e.parent;t!==null;){if((t.f&K)===0)return(t.f&$e)===0?t:null;t=t.parent}return null}function yn(e){var t,r=N;ke(so(e));try{e.f&=~Rt,io(e),t=Fi(e)}finally{ke(r)}return t}function yi(e){var t=yn(e);if(!e.equals(t)&&(e.wv=Li(),(!(P!=null&&P.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){L(e,$);return}ft||(Y!==null?(bn()||P!=null&&P.is_fork)&&Y.set(e,t):_n(e))}function oo(e){var t,r;if(e.effects!==null)for(const n of e.effects)(n.teardown||n.ac)&&((t=n.teardown)==null||t.call(n),(r=n.ac)==null||r.abort(vt),n.teardown=vs,n.ac=null,fr(n,0),Sn(n))}function wi(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&At(t)}let tn=new Set;const ot=new Map;let bi=!1;function lt(e,t){var r={f:0,v:e,reactions:null,equals:ui,rv:0,wv:0};return r}function Xe(e,t){const r=lt(e);return Mi(r),r}function re(e,t=!1,r=!0){var i;const n=lt(e);return t||(n.equals=ci),Xt&&r&&k!==null&&k.l!==null&&((i=k.l).s??(i.s=[])).push(n),n}function R(e,t,r=!1){A!==null&&(!je||(A.f&qn)!==0)&&_r()&&(A.f&(K|Ge|hn|qn))!==0&&(ge===null||!Wt.call(ge,e))&&As();let n=r?kt(t):t;return Jt(e,n)}function Jt(e,t){if(!e.equals(t)){var r=e.v;ft?ot.set(e,t):ot.set(e,r),e.v=t;var n=st.ensure();if(n.capture(e,r),(e.f&K)!==0){const i=e;(e.f&J)!==0&&yn(i),_n(i)}e.wv=Li(),Ei(e,J),_r()&&N!==null&&(N.f&$)!==0&&(N.f&(Ne|jt))===0&&(de===null?wo([e]):de.push(e)),!n.is_fork&&tn.size>0&&!bi&&ao()}return t}function ao(){bi=!1;for(const e of tn)(e.f&$)!==0&&L(e,me),Zt(e)&&At(e);tn.clear()}function ar(e){R(e,e.v+1)}function Ei(e,t){var r=e.reactions;if(r!==null)for(var n=_r(),i=r.length,s=0;s<i;s++){var o=r[s],f=o.f;if(!(!n&&o===N)){var a=(f&J)===0;if(a&&L(o,t),(f&K)!==0){var u=o;Y==null||Y.delete(u),(f&Rt)===0&&(f&_e&&(o.f|=Rt),Ei(u,me))}else a&&((f&Ge)!==0&&be!==null&&be.add(o),Ae(o))}}}function kt(e){if(typeof e!="object"||e===null||Et in e)return e;const t=dn(e);if(t!==ds&&t!==hs)return e;var r=new Map,n=cn(e),i=Xe(0),s=Tt,o=f=>{if(Tt===s)return f();var a=A,u=Tt;ye(null),$n(s);var c=f();return ye(a),$n(u),c};return n&&r.set("length",Xe(e.length)),new Proxy(e,{defineProperty(f,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Cs();var c=r.get(a);return c===void 0?o(()=>{var h=Xe(u.value);return r.set(a,h),h}):R(c,u.value,!0),!0},deleteProperty(f,a){var u=r.get(a);if(u===void 0){if(a in f){const c=o(()=>Xe(W));r.set(a,c),ar(i)}}else R(u,W),ar(i);return!0},get(f,a,u){var g;if(a===Et)return e;var c=r.get(a),h=a in f;if(c===void 0&&(!h||(g=Lt(f,a))!=null&&g.writable)&&(c=o(()=>{var y=kt(h?f[a]:W),S=Xe(y);return S}),r.set(a,c)),c!==void 0){var _=v(c);return _===W?void 0:_}return Reflect.get(f,a,u)},getOwnPropertyDescriptor(f,a){var u=Reflect.getOwnPropertyDescriptor(f,a);if(u&&"value"in u){var c=r.get(a);c&&(u.value=v(c))}else if(u===void 0){var h=r.get(a),_=h==null?void 0:h.v;if(h!==void 0&&_!==W)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return u},has(f,a){var _;if(a===Et)return!0;var u=r.get(a),c=u!==void 0&&u.v!==W||Reflect.has(f,a);if(u!==void 0||N!==null&&(!c||(_=Lt(f,a))!=null&&_.writable)){u===void 0&&(u=o(()=>{var g=c?kt(f[a]):W,y=Xe(g);return y}),r.set(a,u));var h=v(u);if(h===W)return!1}return c},set(f,a,u,c){var m;var h=r.get(a),_=a in f;if(n&&a==="length")for(var g=u;g<h.v;g+=1){var y=r.get(g+"");y!==void 0?R(y,W):g in f&&(y=o(()=>Xe(W)),r.set(g+"",y))}if(h===void 0)(!_||(m=Lt(f,a))!=null&&m.writable)&&(h=o(()=>Xe(void 0)),R(h,kt(u)),r.set(a,h));else{_=h.v!==W;var S=o(()=>kt(u));R(h,S)}var d=Reflect.getOwnPropertyDescriptor(f,a);if(d!=null&&d.set&&d.set.call(c,u),!_){if(n&&typeof a=="string"){var w=r.get("length"),O=Number(a);Number.isInteger(O)&&O>=w.v&&R(w,O+1)}ar(i)}return!0},ownKeys(f){v(i);var a=Reflect.ownKeys(f).filter(h=>{var _=r.get(h);return _===void 0||_.v!==W});for(var[u,c]of r)c.v!==W&&!(u in f)&&a.push(u);return a},setPrototypeOf(){Rs()}})}var Bn,Si,Ti,Ci;function lo(){if(Bn===void 0){Bn=window,Si=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Ti=Lt(t,"firstChild").get,Ci=Lt(t,"nextSibling").get,Ln(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ln(r)&&(r.__t=void 0)}}function at(e=""){return document.createTextNode(e)}function Ar(e){return Ti.call(e)}function gr(e){return Ci.call(e)}function D(e,t){return Ar(e)}function rn(e,t=!1){{var r=Ar(e);return r instanceof Comment&&r.data===""?gr(r):r}}function ee(e,t=1,r=!1){let n=e;for(;t--;)n=gr(n);return n}function fo(e){e.textContent=""}function Ri(){return!1}function uo(e,t,r){return document.createElementNS(fi,e,void 0)}function wn(e){var t=A,r=N;ye(null),ke(null);try{return e()}finally{ye(t),ke(r)}}function Ai(e){N===null&&(A===null&&Es(),bs()),ft&&ws()}function co(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Le(e,t,r){var n=N;n!==null&&(n.f&ue)!==0&&(e|=ue);var i={ctx:k,deps:null,nodes:null,f:e|J|_e,first:null,fn:t,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{At(i)}catch(f){throw se(i),f}else t!==null&&Ae(i);var s=i;if(r&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Qt)===0&&(s=s.first,(e&Ge)!==0&&(e&Yt)!==0&&s!==null&&(s.f|=Yt)),s!==null&&(s.parent=n,n!==null&&co(s,n),A!==null&&(A.f&K)!==0&&(e&jt)===0)){var o=A;(o.effects??(o.effects=[])).push(s)}return i}function bn(){return A!==null&&!je}function ji(e){const t=Le(pr,null,!1);return L(t,$),t.teardown=e,t}function nn(e){Ai();var t=N.f,r=!A&&(t&Ne)!==0&&(t&Ct)===0;if(r){var n=k;(n.e??(n.e=[])).push(e)}else return Ni(e)}function Ni(e){return Le(vr|oi,e,!1)}function ho(e){return Ai(),Le(pr|oi,e,!0)}function vo(e){st.ensure();const t=Le(jt|Qt,e,!0);return(r={})=>new Promise(n=>{r.outro?St(t,()=>{se(t),n(void 0)}):(se(t),n(void 0))})}function po(e){return Le(vr,e,!1)}function Un(e,t){var r=k,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=Or(()=>{e(),!n.ran&&(n.ran=!0,H(t))})}function _o(){var e=k;Or(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&$)!==0&&r.deps!==null&&L(r,me),Zt(r)&&At(r),t.ran=!1}})}function go(e){return Le(hn|Qt,e,!0)}function Or(e,t=0){return Le(pr|t,e,!0)}function Ce(e,t=[],r=[],n=[]){Zs(n,t,r,i=>{Le(pr,()=>e(...i.map(v)),!0)})}function En(e,t=0){var r=Le(Ge|t,e,!0);return r}function pe(e){return Le(Ne|Qt,e,!0)}function Pi(e){var t=e.teardown;if(t!==null){const r=ft,n=A;Hn(!0),ye(null);try{t.call(null)}finally{Hn(r),ye(n)}}}function Sn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const i=r.ac;i!==null&&wn(()=>{i.abort(vt)});var n=r.next;(r.f&jt)!==0?r.parent=null:se(r,t),r=n}}function mo(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ne)===0&&se(t),t=r}}function se(e,t=!0){var r=!1;(t||(e.f&si)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(yo(e.nodes.start,e.nodes.end),r=!0),Sn(e,t&&!r),fr(e,0),L(e,$e);var n=e.nodes&&e.nodes.t;if(n!==null)for(const s of n)s.stop();Pi(e);var i=e.parent;i!==null&&i.first!==null&&Di(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function yo(e,t){for(;e!==null;){var r=e===t?null:gr(e);e.remove(),e=r}}function Di(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function St(e,t,r=!0){var n=[];Oi(e,n,!0);var i=()=>{r&&se(e),t&&t()},s=n.length;if(s>0){var o=()=>--s||i();for(var f of n)f.out(o)}else i()}function Oi(e,t,r){if((e.f&ue)===0){e.f^=ue;var n=e.nodes&&e.nodes.t;if(n!==null)for(const f of n)(f.is_global||r)&&t.push(f);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&Yt)!==0||(i.f&Ne)!==0&&(e.f&Ge)!==0;Oi(i,t,o?r:!1),i=s}}}function Tn(e){xi(e,!0)}function xi(e,t){if((e.f&ue)!==0){e.f^=ue,(e.f&$)===0&&(L(e,J),Ae(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Yt)!==0||(r.f&Ne)!==0;xi(r,i?t:!1),r=n}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function Ii(e,t){if(e.nodes)for(var r=e.nodes.start,n=e.nodes.end;r!==null;){var i=r===n?null:gr(r);t.append(r),r=i}}let Rr=!1,ft=!1;function Hn(e){ft=e}let A=null,je=!1;function ye(e){A=e}let N=null;function ke(e){N=e}let ge=null;function Mi(e){A!==null&&(ge===null?ge=[e]:ge.push(e))}let ie=null,ae=0,de=null;function wo(e){de=e}let ki=1,pt=0,Tt=pt;function $n(e){Tt=e}function Li(){return++ki}function Zt(e){var t=e.f;if((t&J)!==0)return!0;if(t&K&&(e.f&=~Rt),(t&me)!==0){for(var r=e.deps,n=r.length,i=0;i<n;i++){var s=r[i];if(Zt(s)&&yi(s),s.wv>e.wv)return!0}(t&_e)!==0&&Y===null&&L(e,$)}return!1}function qi(e,t,r=!0){var n=e.reactions;if(n!==null&&!(ge!==null&&Wt.call(ge,e)))for(var i=0;i<n.length;i++){var s=n[i];(s.f&K)!==0?qi(s,t,!1):t===s&&(r?L(s,J):(s.f&$)!==0&&L(s,me),Ae(s))}}function Fi(e){var S;var t=ie,r=ae,n=de,i=A,s=ge,o=k,f=je,a=Tt,u=e.f;ie=null,ae=0,de=null,A=(u&(Ne|jt))===0?e:null,ge=null,Kt(e.ctx),je=!1,Tt=++pt,e.ac!==null&&(wn(()=>{e.ac.abort(vt)}),e.ac=null);try{e.f|=Wr;var c=e.fn,h=c();e.f|=Ct;var _=e.deps,g=P==null?void 0:P.is_fork;if(ie!==null){var y;if(g||fr(e,ae),_!==null&&ae>0)for(_.length=ae+ie.length,y=0;y<ie.length;y++)_[ae+y]=ie[y];else e.deps=_=ie;if(bn()&&(e.f&_e)!==0)for(y=ae;y<_.length;y++)((S=_[y]).reactions??(S.reactions=[])).push(e)}else!g&&_!==null&&ae<_.length&&(fr(e,ae),_.length=ae);if(_r()&&de!==null&&!je&&_!==null&&(e.f&(K|me|J))===0)for(y=0;y<de.length;y++)qi(de[y],e);if(i!==null&&i!==e){if(pt++,i.deps!==null)for(let d=0;d<r;d+=1)i.deps[d].rv=pt;if(t!==null)for(const d of t)d.rv=pt;de!==null&&(n===null?n=de:n.push(...de))}return(e.f&it)!==0&&(e.f^=it),h}catch(d){return di(d)}finally{e.f^=Wr,ie=t,ae=r,de=n,A=i,ge=s,Kt(o),je=f,Tt=a}}function bo(e,t){let r=t.reactions;if(r!==null){var n=us.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}if(r===null&&(t.f&K)!==0&&(ie===null||!Wt.call(ie,t))){var s=t;(s.f&_e)!==0&&(s.f^=_e,s.f&=~Rt),_n(s),oo(s),fr(s,0)}}function fr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)bo(e,r[n])}function At(e){var t=e.f;if((t&$e)===0){L(e,$);var r=N,n=Rr;N=e,Rr=!0;try{(t&(Ge|ii))!==0?mo(e):Sn(e),Pi(e);var i=Fi(e);e.teardown=typeof i=="function"?i:null,e.wv=ki;var s;Vr&&Bs&&(e.f&J)!==0&&e.deps}finally{Rr=n,N=r}}}function v(e){var t=e.f,r=(t&K)!==0;if(A!==null&&!je){var n=N!==null&&(N.f&$e)!==0;if(!n&&(ge===null||!Wt.call(ge,e))){var i=A.deps;if((A.f&Wr)!==0)e.rv<pt&&(e.rv=pt,ie===null&&i!==null&&i[ae]===e?ae++:ie===null?ie=[e]:ie.push(e));else{(A.deps??(A.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[A]:Wt.call(s,A)||s.push(A)}}}if(ft&&ot.has(e))return ot.get(e);if(r){var o=e;if(ft){var f=o.v;return((o.f&$)===0&&o.reactions!==null||Ui(o))&&(f=yn(o)),ot.set(o,f),f}var a=(o.f&_e)===0&&!je&&A!==null&&(Rr||(A.f&_e)!==0),u=(o.f&Ct)===0;Zt(o)&&(a&&(o.f|=_e),yi(o)),a&&!u&&(wi(o),Bi(o))}if(Y!=null&&Y.has(e))return Y.get(e);if((e.f&it)!==0)throw e.v;return e.v}function Bi(e){if(e.f|=_e,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&K)!==0&&(t.f&_e)===0&&(wi(t),Bi(t))}function Ui(e){if(e.v===W)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ot.has(t)||(t.f&K)!==0&&Ui(t))return!0;return!1}function H(e){var t=je;try{return je=!0,e()}finally{je=t}}function ht(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Et in e)sn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Et in r&&sn(r)}}}function sn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{sn(e[n],t)}catch{}const r=dn(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=ri(r);for(let i in n){const s=n[i].get;if(s)try{s.call(e)}catch{}}}}}const Eo=["touchstart","touchmove"];function So(e){return Eo.includes(e)}const wr=Symbol("events"),To=new Set,Vn=new Set;function Co(e,t,r,n={}){function i(s){if(n.capture||on.call(t,s),!s.cancelBubble)return wn(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ve(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function qt(e,t,r,n,i){var s={capture:n,passive:i},o=Co(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ji(()=>{t.removeEventListener(e,o,s)})}let Gn=null;function on(e){var d,w;var t=this,r=t.ownerDocument,n=e.type,i=((d=e.composedPath)==null?void 0:d.call(e))||[],s=i[0]||e.target;Gn=e;var o=0,f=Gn===e&&e[wr];if(f){var a=i.indexOf(f);if(a!==-1&&(t===document||t===window)){e[wr]=t;return}var u=i.indexOf(t);if(u===-1)return;a<=u&&(o=a)}if(s=i[o]||e.target,s!==t){cs(e,"currentTarget",{configurable:!0,get(){return s||r}});var c=A,h=N;ye(null),ke(null);try{for(var _,g=[];s!==null;){var y=s.assignedSlot||s.parentNode||s.host||null;try{var S=(w=s[wr])==null?void 0:w[n];S!=null&&(!s.disabled||e.target===s)&&S.call(s,e)}catch(O){_?g.push(O):_=O}if(e.cancelBubble||y===t||y===null)break;s=y}if(_){for(let O of g)queueMicrotask(()=>{throw O});throw _}}finally{e[wr]=t,delete e.currentTarget,ye(c),ke(h)}}}var ei;const Fr=((ei=globalThis==null?void 0:globalThis.window)==null?void 0:ei.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function Ro(e){return(Fr==null?void 0:Fr.createHTML(e))??e}function Ao(e){var t=uo("template");return t.innerHTML=Ro(e.replaceAll("<!>","<!---->")),t.content}function an(e,t){var r=N;r.nodes===null&&(r.nodes={start:e,end:t,a:null,t:null})}function z(e,t){var r=(t&ks)!==0,n=(t&Ls)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ao(s?e:"<!>"+e),r||(i=Ar(i)));var o=n||Si?document.importNode(i,!0):i.cloneNode(!0);if(r){var f=Ar(o),a=o.lastChild;an(f,a)}else an(o,o);return o}}function zn(){var e=document.createDocumentFragment(),t=document.createComment(""),r=at();return e.append(t,r),an(t,r),e}function U(e,t){e!==null&&e.before(t)}function Re(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function jo(e,t){return No(e,t)}const br=new Map;function No(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:o=!0,transformError:f}){lo();var a=void 0,u=vo(()=>{var c=r??t.appendChild(at());Ys(c,{pending:()=>{}},g=>{vn({});var y=k;s&&(y.c=s),i&&(n.$$events=i),a=e(g,n)||{},pn()},f);var h=new Set,_=g=>{for(var y=0;y<g.length;y++){var S=g[y];if(!h.has(S)){h.add(S);var d=So(S);for(const m of[t,document]){var w=br.get(m);w===void 0&&(w=new Map,br.set(m,w));var O=w.get(S);O===void 0?(m.addEventListener(S,on,{passive:d}),w.set(S,1)):w.set(S,O+1)}}}};return _(Pr(To)),Vn.add(_),()=>{var d;for(var g of h)for(const w of[t,document]){var y=br.get(w),S=y.get(g);--S==0?(w.removeEventListener(g,on),y.delete(g),y.size===0&&br.delete(w)):y.set(g,S)}Vn.delete(_),c!==r&&((d=c.parentNode)==null||d.removeChild(c))}});return Po.set(a,u),a}let Po=new WeakMap;var Se,xe,fe,wt,dr,hr,Nr;class Do{constructor(t,r=!0){X(this,"anchor");T(this,Se,new Map);T(this,xe,new Map);T(this,fe,new Map);T(this,wt,new Set);T(this,dr,!0);T(this,hr,()=>{var t=P;if(l(this,Se).has(t)){var r=l(this,Se).get(t),n=l(this,xe).get(r);if(n)Tn(n),l(this,wt).delete(r);else{var i=l(this,fe).get(r);i&&(l(this,xe).set(r,i.effect),l(this,fe).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),n=i.effect)}for(const[s,o]of l(this,Se)){if(l(this,Se).delete(s),s===t)break;const f=l(this,fe).get(o);f&&(se(f.effect),l(this,fe).delete(o))}for(const[s,o]of l(this,xe)){if(s===r||l(this,wt).has(s))continue;const f=()=>{if(Array.from(l(this,Se).values()).includes(s)){var u=document.createDocumentFragment();Ii(o,u),u.append(at()),l(this,fe).set(s,{effect:o,fragment:u})}else se(o);l(this,wt).delete(s),l(this,xe).delete(s)};l(this,dr)||!n?(l(this,wt).add(s),St(o,f,!1)):f()}}});T(this,Nr,t=>{l(this,Se).delete(t);const r=Array.from(l(this,Se).values());for(const[n,i]of l(this,fe))r.includes(n)||(se(i.effect),l(this,fe).delete(n))});this.anchor=t,E(this,dr,r)}ensure(t,r){var n=P,i=Ri();if(r&&!l(this,xe).has(t)&&!l(this,fe).has(t))if(i){var s=document.createDocumentFragment(),o=at();s.append(o),l(this,fe).set(t,{effect:pe(()=>r(o)),fragment:s})}else l(this,xe).set(t,pe(()=>r(this.anchor)));if(l(this,Se).set(n,t),i){for(const[f,a]of l(this,xe))f===t?n.unskip_effect(a):n.skip_effect(a);for(const[f,a]of l(this,fe))f===t?n.unskip_effect(a.effect):n.skip_effect(a.effect);n.oncommit(l(this,hr)),n.ondiscard(l(this,Nr))}else l(this,hr).call(this)}}Se=new WeakMap,xe=new WeakMap,fe=new WeakMap,wt=new WeakMap,dr=new WeakMap,hr=new WeakMap,Nr=new WeakMap;function qe(e,t,r=!1){var n=new Do(e),i=r?Yt:0;function s(o,f){n.ensure(o,f)}En(()=>{var o=!1;t((f,a=0)=>{o=!0,s(a,f)}),o||s(!1,null)},i)}function ln(e,t){return t}function Oo(e,t,r){for(var n=[],i=t.length,s,o=t.length,f=0;f<i;f++){let h=t[f];St(h,()=>{if(s){if(s.pending.delete(h),s.done.add(h),s.pending.size===0){var _=e.outrogroups;fn(Pr(s.done)),_.delete(s),_.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=n.length===0&&r!==null;if(a){var u=r,c=u.parentNode;fo(c),c.append(u),e.items.clear()}fn(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function fn(e,t=!0){for(var r=0;r<e.length;r++)se(e[r],t)}var Wn;function lr(e,t,r,n,i,s=null){var o=e,f=new Map,a=(t&li)!==0;if(a){var u=e;o=u.appendChild(at())}var c=null,h=mn(()=>{var w=r();return cn(w)?w:w==null?[]:Pr(w)}),_,g=!0;function y(){d.fallback=c,xo(d,_,o,t,n),c!==null&&(_.length===0?(c.f&He)===0?Tn(c):(c.f^=He,or(c,null,o)):St(c,()=>{c=null}))}var S=En(()=>{_=v(h);for(var w=_.length,O=new Set,m=P,C=Ri(),x=0;x<w;x+=1){var te=_[x],F=n(te,x),B=g?null:f.get(F);B?(B.v&&Jt(B.v,te),B.i&&Jt(B.i,x),C&&m.unskip_effect(B.e)):(B=Io(f,g?o:Wn??(Wn=at()),te,F,x,i,t,r),g||(B.e.f|=He),f.set(F,B)),O.add(F)}if(w===0&&s&&!c&&(g?c=pe(()=>s(o)):(c=pe(()=>s(Wn??(Wn=at()))),c.f|=He)),w>O.size&&ys(),!g)if(C){for(const[oe,ze]of f)O.has(oe)||m.skip_effect(ze.e);m.oncommit(y),m.ondiscard(()=>{})}else y();v(h)}),d={effect:S,items:f,outrogroups:null,fallback:c};g=!1}function ir(e){for(;e!==null&&(e.f&Ne)===0;)e=e.next;return e}function xo(e,t,r,n,i){var ze,Pe,ut,ct,Nt,Pt,Dt,Ot,I;var s=(n&Ds)!==0,o=t.length,f=e.items,a=ir(e.effect.first),u,c=null,h,_=[],g=[],y,S,d,w;if(s)for(w=0;w<o;w+=1)y=t[w],S=i(y,w),d=f.get(S).e,(d.f&He)===0&&((Pe=(ze=d.nodes)==null?void 0:ze.a)==null||Pe.measure(),(h??(h=new Set)).add(d));for(w=0;w<o;w+=1){if(y=t[w],S=i(y,w),d=f.get(S).e,e.outrogroups!==null)for(const q of e.outrogroups)q.pending.delete(d),q.done.delete(d);if((d.f&He)!==0)if(d.f^=He,d===a)or(d,null,r);else{var O=c?c.next:a;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),Ze(e,c,d),Ze(e,d,O),or(d,O,r),c=d,_=[],g=[],a=ir(c.next);continue}if((d.f&ue)!==0&&(Tn(d),s&&((ct=(ut=d.nodes)==null?void 0:ut.a)==null||ct.unfix(),(h??(h=new Set)).delete(d))),d!==a){if(u!==void 0&&u.has(d)){if(_.length<g.length){var m=g[0],C;c=m.prev;var x=_[0],te=_[_.length-1];for(C=0;C<_.length;C+=1)or(_[C],m,r);for(C=0;C<g.length;C+=1)u.delete(g[C]);Ze(e,x.prev,te.next),Ze(e,c,x),Ze(e,te,m),a=m,c=te,w-=1,_=[],g=[]}else u.delete(d),or(d,a,r),Ze(e,d.prev,d.next),Ze(e,d,c===null?e.effect.first:c.next),Ze(e,c,d),c=d;continue}for(_=[],g=[];a!==null&&a!==d;)(u??(u=new Set)).add(a),g.push(a),a=ir(a.next);if(a===null)continue}(d.f&He)===0&&_.push(d),c=d,a=ir(d.next)}if(e.outrogroups!==null){for(const q of e.outrogroups)q.pending.size===0&&(fn(Pr(q.done)),(Nt=e.outrogroups)==null||Nt.delete(q));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||u!==void 0){var F=[];if(u!==void 0)for(d of u)(d.f&ue)===0&&F.push(d);for(;a!==null;)(a.f&ue)===0&&a!==e.fallback&&F.push(a),a=ir(a.next);var B=F.length;if(B>0){var oe=(n&li)!==0&&o===0?r:null;if(s){for(w=0;w<B;w+=1)(Dt=(Pt=F[w].nodes)==null?void 0:Pt.a)==null||Dt.measure();for(w=0;w<B;w+=1)(I=(Ot=F[w].nodes)==null?void 0:Ot.a)==null||I.fix()}Oo(e,F,oe)}}s&&Ve(()=>{var q,We;if(h!==void 0)for(d of h)(We=(q=d.nodes)==null?void 0:q.a)==null||We.apply()})}function Io(e,t,r,n,i,s,o,f){var a=(o&Ns)!==0?(o&Os)===0?re(r,!1,!1):lt(r):null,u=(o&Ps)!==0?lt(i):null;return{v:a,i:u,e:pe(()=>(s(t,a??r,u??i,f),()=>{e.delete(n)}))}}function or(e,t,r){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end,s=t&&(t.f&He)===0?t.nodes.start:r;n!==null;){var o=gr(n);if(s.before(n),n===i)return;n=o}}function Ze(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}const Yn=[...` 	
\r\fÂ \v\uFEFF`];function Mo(e,t,r){var n=e==null?"":""+e;if(r){for(var i of Object.keys(r))if(r[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var f=o+s;(o===0||Yn.includes(n[o-1]))&&(f===n.length||Yn.includes(n[f]))?n=(o===0?"":n.substring(0,o))+n.substring(f+1):o=f}}return n===""?null:n}function Br(e,t,r,n,i,s){var o=e.__className;if(o!==r||o===void 0){var f=Mo(r,n,s);f==null?e.removeAttribute("class"):e.className=f,e.__className=r}else if(s&&i!==s)for(var a in s){var u=!!s[a];(i==null||u!==!!i[a])&&e.classList.toggle(a,u)}return s}const ko=Symbol("is custom element"),Lo=Symbol("is html");function Ur(e,t,r,n){var i=qo(e);i[t]!==(i[t]=r)&&(t==="loading"&&(e[gs]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Fo(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function qo(e){return e.__attributes??(e.__attributes={[ko]:e.nodeName.includes("-"),[Lo]:e.namespaceURI===fi})}var Kn=new Map;function Fo(e){var t=e.getAttribute("is")||e.nodeName,r=Kn.get(t);if(r)return r;Kn.set(t,r=[]);for(var n,i=e,s=Element.prototype;s!==i;){n=ri(i);for(var o in n)n[o].set&&r.push(o);i=dn(i)}return r}function Jn(e,t){return e===t||(e==null?void 0:e[Et])===t}function Bo(e={},t,r,n){return po(()=>{var i,s;return Or(()=>{i=s,s=[],H(()=>{e!==r(...s)&&(t(e,...s),i&&Jn(r(...i),e)&&t(null,...i))})}),()=>{Ve(()=>{s&&Jn(r(...s),e)&&t(null,...s)})}}),e}function Uo(e){return function(...t){var r=t[0];return r.stopPropagation(),e==null?void 0:e.apply(this,t)}}function Hi(e=!1){const t=k,r=t.l.u;if(!r)return;let n=()=>ht(t.s);if(e){let i=0,s={};const o=Dr(()=>{let f=!1;const a=t.s;for(const u in a)a[u]!==s[u]&&(s[u]=a[u],f=!0);return f&&i++,i});n=()=>v(o)}r.b.length&&ho(()=>{Qn(t,n),Gr(r.b)}),nn(()=>{const i=H(()=>r.m.map(ps));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&nn(()=>{Qn(t,n),Gr(r.a)})}function Qn(e,t){if(e.l.s)for(const r of e.l.s)v(r);t()}function Ho(e){var t=lt(0);return function(){return arguments.length===1?(R(t,v(t)+1),arguments[0]):(v(t),e())}}function $o(e,t){var s;var r=(s=e.$$events)==null?void 0:s[t.type],n=cn(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,t)}let Er=!1;function Vo(e){var t=Er;try{return Er=!1,[e(),Er]}finally{Er=t}}function sr(e,t,r,n){var O;var i=!Xt||(r&xs)!==0,s=(r&Ms)!==0,o=n,f=!0,a=()=>(f&&(f=!1,o=n),o),u;{var c=Et in e||_s in e;u=((O=Lt(e,t))==null?void 0:O.set)??(c&&t in e?m=>e[t]=m:void 0)}var h,_=!1;[h,_]=Vo(()=>e[t]),h===void 0&&n!==void 0&&(h=a(),u&&(i&&Ts(),u(h)));var g;if(i?g=()=>{var m=e[t];return m===void 0?a():(f=!0,m)}:g=()=>{var m=e[t];return m!==void 0&&(o=void 0),m===void 0?o:m},i&&(r&Is)===0)return g;if(u){var y=e.$$legacy;return(function(m,C){return arguments.length>0?((!i||!C||y||_)&&u(C?g():m),m):g()})}var S=!1,d=mn(()=>(S=!1,g()));v(d);var w=N;return(function(m,C){if(arguments.length>0){const x=C?v(d):i&&s?kt(m):m;return R(d,x),S=!0,o!==void 0&&(o=x),m}return ft&&S||(w.f&$e)!==0?d.v:v(d)})}function Cn(e){k===null&&ai(),Xt&&k.l!==null?Go(k).m.push(e):nn(()=>{const t=H(e);if(typeof t=="function")return t})}function $i(e){k===null&&ai(),Cn(()=>()=>H(e))}function Go(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const zo="5";var ti;typeof window<"u"&&((ti=window.__svelte??(window.__svelte={})).v??(ti.v=new Set)).add(zo);Us();class Xn extends Error{constructor(r,n,i){super(i);X(this,"url");X(this,"status");X(this,"statusText");X(this,"body");X(this,"request");this.name="ApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.body=n.body,this.request=r}}class Wo extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}}var Ie,Me,Te,tt,bt,zt,rt;class Yo{constructor(t){T(this,Ie);T(this,Me);T(this,Te);T(this,tt);T(this,bt);T(this,zt);T(this,rt);E(this,Ie,!1),E(this,Me,!1),E(this,Te,!1),E(this,tt,[]),E(this,bt,new Promise((r,n)=>{E(this,zt,r),E(this,rt,n);const i=f=>{l(this,Ie)||l(this,Me)||l(this,Te)||(E(this,Ie,!0),l(this,zt)&&l(this,zt).call(this,f))},s=f=>{l(this,Ie)||l(this,Me)||l(this,Te)||(E(this,Me,!0),l(this,rt)&&l(this,rt).call(this,f))},o=f=>{l(this,Ie)||l(this,Me)||l(this,Te)||l(this,tt).push(f)};return Object.defineProperty(o,"isResolved",{get:()=>l(this,Ie)}),Object.defineProperty(o,"isRejected",{get:()=>l(this,Me)}),Object.defineProperty(o,"isCancelled",{get:()=>l(this,Te)}),t(i,s,o)}))}get[Symbol.toStringTag](){return"Cancellable Promise"}then(t,r){return l(this,bt).then(t,r)}catch(t){return l(this,bt).catch(t)}finally(t){return l(this,bt).finally(t)}cancel(){if(!(l(this,Ie)||l(this,Me)||l(this,Te))){if(E(this,Te,!0),l(this,tt).length)try{for(const t of l(this,tt))t()}catch(t){console.warn("Cancellation threw an error",t);return}l(this,tt).length=0,l(this,rt)&&l(this,rt).call(this,new Wo("Request aborted"))}}get isCancelled(){return l(this,Te)}}Ie=new WeakMap,Me=new WeakMap,Te=new WeakMap,tt=new WeakMap,bt=new WeakMap,zt=new WeakMap,rt=new WeakMap;const Q={BASE:"",VERSION:"1.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Rn=e=>e!=null,mr=e=>typeof e=="string",Hr=e=>mr(e)&&e!=="",An=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),Vi=e=>e instanceof FormData,Ko=e=>{try{return btoa(e)}catch{return Buffer.from(e).toString("base64")}},Jo=e=>{const t=[],r=(i,s)=>{t.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},n=(i,s)=>{Rn(s)&&(Array.isArray(s)?s.forEach(o=>{n(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,f])=>{n(`${i}[${o}]`,f)}):r(i,s))};return Object.entries(e).forEach(([i,s])=>{n(i,s)}),t.length>0?`?${t.join("&")}`:""},Qo=(e,t)=>{const r=e.ENCODE_PATH||encodeURI,n=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(s,o)=>{var f;return(f=t.path)!=null&&f.hasOwnProperty(o)?r(String(t.path[o])):s}),i=`${e.BASE}${n}`;return t.query?`${i}${Jo(t.query)}`:i},Xo=e=>{if(e.formData){const t=new FormData,r=(n,i)=>{mr(i)||An(i)?t.append(n,i):t.append(n,JSON.stringify(i))};return Object.entries(e.formData).filter(([n,i])=>Rn(i)).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r(n,s)):r(n,i)}),t}},Sr=async(e,t)=>typeof t=="function"?t(e):t,Zo=async(e,t)=>{const[r,n,i,s]=await Promise.all([Sr(t,e.TOKEN),Sr(t,e.USERNAME),Sr(t,e.PASSWORD),Sr(t,e.HEADERS)]),o=Object.entries({Accept:"application/json",...s,...t.headers}).filter(([f,a])=>Rn(a)).reduce((f,[a,u])=>({...f,[a]:String(u)}),{});if(Hr(r)&&(o.Authorization=`Bearer ${r}`),Hr(n)&&Hr(i)){const f=Ko(`${n}:${i}`);o.Authorization=`Basic ${f}`}return t.body!==void 0&&(t.mediaType?o["Content-Type"]=t.mediaType:An(t.body)?o["Content-Type"]=t.body.type||"application/octet-stream":mr(t.body)?o["Content-Type"]="text/plain":Vi(t.body)||(o["Content-Type"]="application/json")),new Headers(o)},ea=e=>{var t;if(e.body!==void 0)return(t=e.mediaType)!=null&&t.includes("/json")?JSON.stringify(e.body):mr(e.body)||An(e.body)||Vi(e.body)?e.body:JSON.stringify(e.body)},ta=async(e,t,r,n,i,s,o)=>{const f=new AbortController,a={headers:s,body:n??i,method:t.method,signal:f.signal};return e.WITH_CREDENTIALS&&(a.credentials=e.CREDENTIALS),o(()=>f.abort()),await fetch(r,a)},ra=(e,t)=>{if(t){const r=e.headers.get(t);if(mr(r))return r}},na=async e=>{if(e.status!==204)try{const t=e.headers.get("Content-Type");if(t)return["application/json","application/problem+json"].some(i=>t.toLowerCase().startsWith(i))?await e.json():await e.text()}catch(t){console.error(t)}},ia=(e,t)=>{const n={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(n)throw new Xn(e,t,n);if(!t.ok){const i=t.status??"unknown",s=t.statusText??"unknown",o=(()=>{try{return JSON.stringify(t.body,null,2)}catch{return}})();throw new Xn(e,t,`Generic Error: status: ${i}; status text: ${s}; body: ${o}`)}},Z=(e,t)=>new Yo(async(r,n,i)=>{try{const s=Qo(e,t),o=Xo(t),f=ea(t),a=await Zo(e,t);if(!i.isCancelled){const u=await ta(e,t,s,f,o,a,i),c=await na(u),h=ra(u,t.responseHeader),_={url:s,ok:u.ok,status:u.status,statusText:u.statusText,body:h??c};ia(t,_),r(_.body)}}catch(s){n(s)}});class $r{static rebuildProjection(){return Z(Q,{method:"POST",url:"/admin/rebuild",errors:{500:"Internal Server Error"}})}static getClientConfig(){return Z(Q,{method:"GET",url:"/client-config"})}static getHealth(){return Z(Q,{method:"GET",url:"/health"})}static listProjects(){return Z(Q,{method:"GET",url:"/projects",errors:{500:"Internal Server Error"}})}static createProject(t){return Z(Q,{method:"POST",url:"/projects",body:t,mediaType:"application/json",errors:{400:"Bad Request",409:"Conflict",422:"Unprocessable Entity",500:"Internal Server Error"}})}static deleteProject(t){return Z(Q,{method:"DELETE",url:"/projects/{project}",path:{project:t},errors:{404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static listCards(t,r){return Z(Q,{method:"GET",url:"/projects/{project}/cards",path:{project:t},query:{include_deleted:r},errors:{422:"Unprocessable Entity",500:"Internal Server Error"}})}static createCard(t,r){return Z(Q,{method:"POST",url:"/projects/{project}/cards",path:{project:t},body:r,mediaType:"application/json",errors:{400:"Bad Request",422:"Unprocessable Entity",500:"Internal Server Error"}})}static getCard(t,r){return Z(Q,{method:"GET",url:"/projects/{project}/cards/{number}",path:{project:t,number:r},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static deleteCard(t,r,n){return Z(Q,{method:"DELETE",url:"/projects/{project}/cards/{number}",path:{project:t,number:r},query:{hard:n},errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static setCardBranch(t,r,n){return Z(Q,{method:"PATCH",url:"/projects/{project}/cards/{number}/branch",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static commentCard(t,r,n){return Z(Q,{method:"POST",url:"/projects/{project}/cards/{number}/comments",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static appendDescription(t,r,n){return Z(Q,{method:"PATCH",url:"/projects/{project}/cards/{number}/description",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static moveCard(t,r,n){return Z(Q,{method:"PATCH",url:"/projects/{project}/cards/{number}/move",path:{project:t,number:r},body:n,mediaType:"application/json",errors:{400:"Bad Request",404:"Not Found",422:"Unprocessable Entity",500:"Internal Server Error"}})}static websocketEvents(){return Z(Q,{method:"GET",url:"/ws"})}}var sa=z('<p class="state svelte-g56mwf" data-testid="card-details-loading">Loading card details...</p>'),oa=z('<div class="state svelte-g56mwf"><p data-testid="card-details-error"> </p> <button data-testid="card-details-retry" type="button" class="svelte-g56mwf">Retry</button></div>'),aa=z('<p class="empty svelte-g56mwf">No description</p>'),la=z('<article class="event svelte-g56mwf"><p class="svelte-g56mwf"> </p></article>'),fa=z('<p class="empty svelte-g56mwf">No comments</p>'),ua=z('<article class="event svelte-g56mwf"><p class="svelte-g56mwf"> </p></article>'),ca=z('<div class="details-grid svelte-g56mwf"><section><h3 class="svelte-g56mwf">Branch</h3> <p class="mono svelte-g56mwf" data-testid="card-details-branch"> </p></section> <section><h3 class="svelte-g56mwf">Description</h3> <div data-testid="card-details-description"><!></div></section> <section><h3 class="svelte-g56mwf">Comments</h3> <div data-testid="card-details-comments"><!></div></section></div>'),da=z('<div class="layer svelte-g56mwf"><section class="modal svelte-g56mwf" data-testid="card-details-modal"><header class="header svelte-g56mwf"><h2 data-testid="card-details-title" class="svelte-g56mwf"> </h2> <button data-testid="card-details-close" type="button" class="svelte-g56mwf">Close</button></header> <!></section></div>');function ha(e,t){vn(t,!1);let r=sr(t,"card",8,null),n=sr(t,"loading",8,!1),i=sr(t,"errorMessage",8,null),s=sr(t,"onClose",8,()=>{}),o=sr(t,"onRetry",8,()=>{}),f=re(null);Cn(()=>{const m=C=>{var x;C.target instanceof Node&&((x=v(f))!=null&&x.contains(C.target)||s()())};return window.addEventListener("pointerdown",m),()=>{window.removeEventListener("pointerdown",m)}}),$i(()=>{R(f,null)});function a(m){return m.replace(/\\n/g,`
`)}Hi();var u=da(),c=D(u),h=D(c),_=D(h),g=D(_),y=ee(_,2),S=ee(h,2);{var d=m=>{var C=sa();U(m,C)},w=m=>{var C=oa(),x=D(C),te=D(x),F=ee(x,2);Ce(()=>Re(te,i())),qt("click",F,function(...B){var oe;(oe=o())==null||oe.apply(this,B)}),U(m,C)},O=m=>{var C=ca(),x=D(C),te=ee(D(x),2),F=D(te),B=ee(x,2),oe=ee(D(B),2),ze=D(oe);{var Pe=I=>{var q=aa();U(I,q)},ut=I=>{var q=zn(),We=rn(q);lr(We,1,()=>(ht(r()),H(()=>r().description)),ln,(er,Ye)=>{var dt=la(),tr=D(dt),rr=D(tr);Ce(xt=>Re(rr,xt),[()=>(v(Ye),H(()=>a(v(Ye).body)))]),U(er,dt)}),U(I,q)};qe(ze,I=>{ht(r()),H(()=>r().description.length===0)?I(Pe):I(ut,!1)})}var ct=ee(B,2),Nt=ee(D(ct),2),Pt=D(Nt);{var Dt=I=>{var q=fa();U(I,q)},Ot=I=>{var q=zn(),We=rn(q);lr(We,1,()=>(ht(r()),H(()=>r().comments)),ln,(er,Ye)=>{var dt=ua(),tr=D(dt),rr=D(tr);Ce(xt=>Re(rr,xt),[()=>(v(Ye),H(()=>a(v(Ye).body)))]),U(er,dt)}),U(I,q)};qe(Pt,I=>{ht(r()),H(()=>r().comments.length===0)?I(Dt):I(Ot,!1)})}Ce(I=>Re(F,I),[()=>(ht(r()),H(()=>{var I;return((I=r().branch)==null?void 0:I.trim())||"No branch"}))]),U(m,C)};qe(S,m=>{n()?m(d):i()?m(w,1):r()&&m(O,2)})}Bo(c,m=>R(f,m),()=>v(f)),Ce(()=>Re(g,(ht(r()),H(()=>{var m;return((m=r())==null?void 0:m.title)??"Card details"})))),qt("click",y,function(...m){var C;(C=s())==null||C.apply(this,m)}),qt("click",c,Uo(function(m){$o.call(this,t,m)})),U(e,u),pn()}var Zn=Ho(()=>Q),va=z('<h1 data-testid="projects-title" class="svelte-1n46o8q">Projects</h1>'),pa=z('<li><button data-testid="project-item" type="button"> </button></li>'),_a=z('<ul class="project-list svelte-1n46o8q"></ul>'),ga=z("<p>No project selected</p>"),ma=z('<div class="card-branch svelte-1n46o8q"> </div>'),ya=z('<article class="card svelte-1n46o8q" data-testid="card-item"><div class="card-title svelte-1n46o8q"> </div> <!></article>'),wa=z('<section class="lane svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <div class="lane-cards svelte-1n46o8q"></div></section>'),ba=z('<div class="board svelte-1n46o8q" data-testid="board"></div>'),Ea=z('<div class="alert svelte-1n46o8q" role="alert"> </div>'),Sa=z('<main><aside data-testid="projects-sidebar"><div class="sidebar-header svelte-1n46o8q"><!> <button class="sidebar-toggle svelte-1n46o8q" data-testid="sidebar-toggle" type="button"> </button></div> <!></aside> <section class="detail svelte-1n46o8q"><!></section></main> <!> <!>',1);function Ta(e,t){vn(t,!1);const r=["Todo","Doing","Review","Done"],n=new Set(["card.created","card.moved","card.deleted_soft","card.deleted_hard"]),i=new Set(["project.created","project.deleted"]),s=/^\/card\/([^/]+)\/(\d+)\/?$/,o="".trim();let f=o,a=re([]),u=re([]),c=re(I()),h=re(null),_=re(null),g=re(!1),y=null,S=re(null),d=re(null),w=re(null),O=re(!1),m=re(null),C=0,x=re(!1);Cn(async()=>{f=await rr(),Zn(Zn().BASE=f),await te();const p=Ye(window.location.pathname);p&&await oe(p.projectSlug,p.number,{historyMode:"replace",selectProject:!0}),window.addEventListener("popstate",ut),window.addEventListener("keydown",ct),Nt()}),$i(()=>{y==null||y.close(),window.removeEventListener("popstate",ut),window.removeEventListener("keydown",ct)});async function te(){try{const p=await $r.listProjects();R(a,[...p.projects].sort(Dt)),v(h)&&!v(a).some(b=>b.slug===v(h))&&R(h,null),v(S)&&!v(a).some(b=>b.slug===v(S))&&Pe({historyMode:"replace"}),await F()}catch(p){R(_,`Failed to load projects: ${String(p)}`)}}async function F(){if(!v(h)){R(u,[]);return}try{const p=await $r.listCards(v(h));R(u,[...p.cards].sort(Ot))}catch(p){R(_,`Failed to load cards: ${String(p)}`)}}async function B(p){R(h,p),v(S)&&v(S)!==p&&Pe({historyMode:"replace"}),await F()}async function oe(p,b,j={}){const M=j.historyMode??"push",Ke=j.selectProject??!1;R(S,p),R(d,b),R(w,null),R(m,null),R(O,!0),dt(p,b,M),Ke&&v(h)!==p&&(R(h,p),await F());const we=++C;try{const Je=await $r.getCard(p,b);if(we!==C)return;R(w,Je)}catch(Je){if(we!==C)return;R(m,`Failed to load card details: ${String(Je)}`)}finally{we===C&&R(O,!1)}}async function ze(){!v(S)||v(d)===null||await oe(v(S),v(d),{historyMode:"replace",selectProject:!0})}function Pe(p={}){const b=p.historyMode??"push";C+=1,R(S,null),R(d,null),R(w,null),R(m,null),R(O,!1),tr(b)}function ut(){const p=Ye(window.location.pathname);if(!p){Pe({historyMode:"none"});return}oe(p.projectSlug,p.number,{historyMode:"none",selectProject:!0})}function ct(p){p.key==="Escape"&&v(x)&&(p.preventDefault(),Pe({historyMode:"push"}))}function Nt(){const p=Pt();y=new WebSocket(p),y.addEventListener("message",async b=>{try{const j=JSON.parse(String(b.data));if(j.type&&i.has(j.type)){await te();return}j.type&&n.has(j.type)&&v(h)&&j.project===v(h)&&await F()}catch{}}),y.addEventListener("error",()=>{R(_,"Project stream failed: websocket error")})}function Pt(){const p=f||window.location.origin,b=new URL(p);return b.protocol=b.protocol==="https:"?"wss:":"ws:",b.pathname="/ws",b.search="",b.hash="",b.toString()}function Dt(p,b){const j=p.name.localeCompare(b.name);return j!==0?j:p.slug.localeCompare(b.slug)}function Ot(p,b){return p.number-b.number}function I(){return{Todo:[],Doing:[],Review:[],Done:[]}}function q(p){const b=I();for(const j of p)(j.status==="Todo"||j.status==="Doing"||j.status==="Review"||j.status==="Done")&&b[j.status].push(j);return b}function We(p){var j,M;const b=[];return(j=p.local_path)!=null&&j.trim()&&b.push(`Local: ${p.local_path.trim()}`),(M=p.remote_url)!=null&&M.trim()&&b.push(`Remote: ${p.remote_url.trim()}`),b.length>0?b.join(`
`):p.slug}function er(){R(g,!v(g))}function Ye(p){const b=p.match(s);if(!b)return null;const j=decodeURIComponent(b[1]),M=Number.parseInt(b[2],10);return!Number.isInteger(M)||M<=0?null:{projectSlug:j,number:M}}function dt(p,b,j){if(j==="none")return;const M=`/card/${encodeURIComponent(p)}/${b}`;if(window.location.pathname!==M){if(j==="replace"){window.history.replaceState({},"",M);return}window.history.pushState({},"",M)}}function tr(p){if(p!=="none"&&window.location.pathname!=="/"){if(p==="replace"){window.history.replaceState({},"","/");return}window.history.pushState({},"","/")}}async function rr(){if(o)return o;try{const p=await fetch("/client-config");if(p.ok){const b=await p.json();if(typeof b.server_url=="string"&&b.server_url.trim()!=="")return b.server_url.trim()}}catch{}return window.location.origin}Un(()=>v(u),()=>{R(c,q(v(u)))}),Un(()=>(v(S),v(d)),()=>{R(x,v(S)!==null&&v(d)!==null)}),_o(),Hi();var xt=Sa(),xr=rn(xt);let Nn;var Ir=D(xr);let Pn;var Dn=D(Ir),On=D(Dn);{var Gi=p=>{var b=va();U(p,b)};qe(On,p=>{v(g)||p(Gi)})}var Mr=ee(On,2),zi=D(Mr),Wi=ee(Dn,2);{var Yi=p=>{var b=_a();lr(b,5,()=>v(a),j=>j.slug,(j,M)=>{var Ke=pa(),we=D(Ke);let Je;var kr=D(we);Ce(nr=>{Ur(we,"title",nr),Je=Br(we,1,"svelte-1n46o8q",null,Je,{selected:v(h)===v(M).slug}),Re(kr,(v(M),H(()=>v(M).name)))},[()=>(v(M),H(()=>We(v(M))))]),qt("click",we,()=>B(v(M).slug)),U(j,Ke)}),U(p,b)};qe(Wi,p=>{v(g)||p(Yi)})}var Ki=ee(Ir,2),Ji=D(Ki);{var Qi=p=>{var b=ga();U(p,b)},Xi=p=>{var b=ba();lr(b,5,()=>r,ln,(j,M)=>{var Ke=wa(),we=D(Ke),Je=D(we),kr=ee(we,2);lr(kr,5,()=>(v(c),v(M),H(()=>v(c)[v(M)])),nr=>nr.id,(nr,Qe)=>{var Lr=ya(),In=D(Lr),rs=D(In),ns=ee(In,2);{var is=It=>{var Mn=ma(),os=D(Mn);Ce(as=>Re(os,as),[()=>(v(Qe),H(()=>v(Qe).branch.trim()))]),U(It,Mn)},ss=no(()=>(v(Qe),H(()=>{var It;return(It=v(Qe).branch)==null?void 0:It.trim()})));qe(ns,It=>{v(ss)&&It(is)})}Ce(()=>Re(rs,(v(Qe),H(()=>v(Qe).title)))),qt("click",Lr,()=>oe(v(Qe).project,v(Qe).number,{historyMode:"push",selectProject:!1})),U(nr,Lr)}),Ce(()=>{Ur(Ke,"data-testid","lane-"+v(M)),Re(Je,v(M))}),U(j,Ke)}),U(p,b)};qe(Ji,p=>{v(h)?p(Xi,!1):p(Qi)})}var xn=ee(xr,2);{var Zi=p=>{ha(p,{get card(){return v(w)},get errorMessage(){return v(m)},get loading(){return v(O)},onClose:()=>Pe({historyMode:"push"}),onRetry:ze})};qe(xn,p=>{v(x)&&p(Zi)})}var es=ee(xn,2);{var ts=p=>{var b=Ea(),j=D(b);Ce(()=>Re(j,v(_))),U(p,b)};qe(es,p=>{v(_)&&p(ts)})}Ce(()=>{Nn=Br(xr,1,"layout svelte-1n46o8q",null,Nn,{"sidebar-hidden":v(g)}),Pn=Br(Ir,1,"sidebar svelte-1n46o8q",null,Pn,{collapsed:v(g)}),Ur(Mr,"aria-label",v(g)?"Show projects":"Hide projects"),Re(zi,v(g)?"âº":"â¹")}),qt("click",Mr,er),U(e,xt),pn()}jo(Ta,{target:document.getElementById("app")});
